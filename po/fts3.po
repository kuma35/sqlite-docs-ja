# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-03-15 22:29+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Content of: <html><body><div><div><div>
#: sedout/fts3.html:6 sedout/fts3.html:121
msgid "SQLite FTS3 and FTS4 Extensions"
msgstr ""

#. type: Content of: <html><body><div><a>
#: sedout/fts3.html:11
msgid "<a href=\"index.html\">"
msgstr ""

#. type: Attribute 'alt' of: <html><body><div><a><img>
#: sedout/fts3.html:12
msgid "SQLite"
msgstr ""

#. type: Content of: <html><body><div><div>
#: sedout/fts3.html:16
msgid "Small. Fast. Reliable."
msgstr ""

#. type: Content of: <html><body><div><div><br>
#: sedout/fts3.html:16
msgid "Choose any three."
msgstr ""

#. type: Content of: <html><body><div><div><ul><li>
#: sedout/fts3.html:20
msgid "<a href=\"index.html\">Home</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li>
#: sedout/fts3.html:21
msgid ""
"<a href=\"javascript:void(0)\" onclick='toggle_div(\"submenu\")'>Menu</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li>
#: sedout/fts3.html:22 sedout/fts3.html:34
msgid "<a href='about.html'>About</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li>
#: sedout/fts3.html:23
msgid "<a href=\"docs.html\">Documentation</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li>
#: sedout/fts3.html:24
msgid "<a href=\"download.html\">Download</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li>
#: sedout/fts3.html:25
msgid "<a href='copyright.html'>License</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li><li>
#: sedout/fts3.html:26
msgid "<a href=\"support.html\">Support</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li><li><li>
#: sedout/fts3.html:27
msgid "<a href=\"prosupport.html\">Purchase</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li><li><li><li>
#: sedout/fts3.html:29
msgid "<a href=\"javascript:void(0)\" onclick='toggle_search()'>Search</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li>
#: sedout/fts3.html:35
msgid "<a href='docs.html'>Documentation</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li>
#: sedout/fts3.html:36
msgid "<a href='download.html'>Download</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li>
#: sedout/fts3.html:37
msgid "<a href='support.html'>Support</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li>
#: sedout/fts3.html:38
msgid "<a href='prosupport.html'>Purchase</a>"
msgstr ""

#. type: Content of: <html><body><div><div><form><select>
#: sedout/fts3.html:43
msgid "<select name=\"s\" id=\"searchtype\">"
msgstr ""

#. type: Content of: <html><body><div><div><form><select><option>
#: sedout/fts3.html:44
msgid "Search Documentation"
msgstr ""

#. type: Content of: <html><body><div><div><form><select><option>
#: sedout/fts3.html:45
msgid "Search Changelog"
msgstr ""

#. type: Content of: <html><body><div><div><form>
#: sedout/fts3.html:46
msgid ""
"</select> <input type=\"text\" name=\"q\" id=\"searchbox\" value=\"\"/> "
"<input type=\"submit\" value=\"Go\"/>"
msgstr ""

#. type: Content of: <html><body><script>
#: sedout/fts3.html:53
msgid ""
"function toggle_div(nm) { var w = document.getElementById(nm); if( w.style."
"display==\"block\" ){ w.style.display = \"none\"; }else{ w.style.display = "
"\"block\"; } } function toggle_search() { var w = document."
"getElementById(\"searchmenu\"); if( w.style.display==\"block\" ){ w.style."
"display = \"none\"; } else { w.style.display = \"block\"; "
"setTimeout(function(){ document.getElementById(\"searchbox\").focus()  }, "
"30); } } function div_off(nm){document.getElementById(nm).style."
"display=\"none\";} window.onbeforeunload = function(e)"
"{div_off(\"submenu\");} /* Disable the Search feature if we are not "
"operating from CGI, since */ /* Search is accomplished using CGI and will "
"not work without it. */ if( !location.origin || !location.origin.match || !"
"location.origin.match(/http/) ){ document."
"getElementById(\"search_menubutton\").style.display = \"none\"; } /* Used by "
"the Hide/Show button beside syntax diagrams, to toggle the */ function "
"hideorshow(btn,obj){ var x = document.getElementById(obj); var b = document."
"getElementById(btn); if( x.style.display!='none' ){ x.style.display = "
"'none'; b.innerHTML='show'; }else{ x.style.display = ''; b."
"innerHTML='hide'; } return false; } var antiRobot = 0; function antiRobotGo()"
"{ if( antiRobot!=3 ) return; antiRobot = 7; var j = document."
"getElementById(\"mtimelink\"); if(j && j.hasAttribute(\"data-href\")) j."
"href=j.getAttribute(\"data-href\"); } function antiRobotDefense(){ document."
"body.onmousedown=function(){ antiRobot |= 2; antiRobotGo(); document.body."
"onmousedown=null; } document.body.onmousemove=function(){ antiRobot |= 2; "
"antiRobotGo(); document.body.onmousemove=null; } setTimeout(function()"
"{ antiRobot |= 1; antiRobotGo(); }, 100)  antiRobotGo(); } "
"antiRobotDefense();"
msgstr ""

#. type: Content of: <html><body><div><div><div>
#: sedout/fts3.html:124
msgid ""
"<a onclick=\"toggle_toc()\"> <span class=\"fancy_toc_mark\" "
"id=\"toc_mk\">&#x25ba;</span> Table Of Contents </a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:128
msgid ""
"<a href=\"#introduction_to_fts3_and_fts4\">1. Introduction to FTS3 and FTS4</"
"a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:129
msgid ""
"<a href=\"#differences_between_fts3_and_fts4\">1.1. Differences between FTS3 "
"and FTS4</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:130
msgid ""
"<a href=\"#creating_and_destroying_fts_tables\">1.2. Creating and Destroying "
"FTS Tables</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:131
msgid "<a href=\"#populating_fts_tables\">1.3. Populating FTS Tables</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:132
msgid "<a href=\"#simple_fts_queries\">1.4. Simple FTS Queries</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:133
msgid "<a href=\"#summary\">1.5. Summary</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:134
msgid ""
"<a href=\"#compiling_and_enabling_fts3_and_fts4\">2. Compiling and Enabling "
"FTS3 and FTS4</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:135
msgid "<a href=\"#full_text_index_queries\">3. Full-text Index Queries</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:136
msgid ""
"<a href=\"#_set_operations_using_the_enhanced_query_syntax\">3.1.  Set "
"Operations Using The Enhanced Query Syntax</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:138
msgid ""
"<a href=\"#set_operations_using_the_standard_query_syntax\">3.2. Set "
"Operations Using The Standard Query Syntax</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:139
msgid ""
"<a href=\"#auxiliary_functions_snippet_offsets_and_matchinfo\">4. Auxiliary "
"Functions - Snippet, Offsets and Matchinfo</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:140
msgid "<a href=\"#the_offsets_function\">4.1. The Offsets Function</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:141
msgid "<a href=\"#the_snippet_function\">4.2. The Snippet Function</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:142
msgid "<a href=\"#matchinfo\">4.3. The Matchinfo Function</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:143
msgid ""
"<a href=\"#fts4aux\">5. Fts4aux - Direct Access to the Full-Text Index</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:144
msgid "<a href=\"#fts4_options\">6. FTS4 Options</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:145
msgid ""
"<a href=\"#the_compress_and_uncompress_options\">6.1. The compress= and "
"uncompress= options</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:146
msgid "<a href=\"#the_content_option_\">6.2. The content= option </a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:147
msgid ""
"<a href=\"#_contentless_fts4_tables_\">6.2.1.  Contentless FTS4 Tables </a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:148
msgid ""
"<a href=\"#_external_content_fts4_tables_\">6.2.2.  External Content FTS4 "
"Tables </a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:149
msgid "<a href=\"#the_languageid_option\">6.3. The languageid= option</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:150
msgid "<a href=\"#the_matchinfo_option\">6.4. The matchinfo= option</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:151
msgid "<a href=\"#the_notindexed_option\">6.5. The notindexed= option</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:152
msgid "<a href=\"#the_prefix_option\">6.6. The prefix= option</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:153
msgid "<a href=\"#commands\">7. Special Commands For FTS3 and FTS4</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:154
msgid "<a href=\"#optimize\">7.1. The \"optimize\" command</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:155
msgid "<a href=\"#rebuild\">7.2. The \"rebuild\" command</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:156
msgid "<a href=\"#integcheck\">7.3. The \"integrity-check\" command</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:157
msgid "<a href=\"#mergecmd\">7.4. The \"merge=X,Y\" command</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:158
msgid "<a href=\"#automerge\">7.5. The \"automerge=N\" command</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:159
msgid "<a href=\"#tokenizer\">8. Tokenizers</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:160
msgid ""
"<a href=\"#custom_application_defined_tokenizers\">8.1. Custom (Application "
"Defined) Tokenizers</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:161
msgid "<a href=\"#querying_tokenizers\">8.2. Querying Tokenizers</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:162
msgid "<a href=\"#data_structures\">9. Data Structures</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:163
msgid "<a href=\"#shadow_tables\">9.1. Shadow Tables</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:164
msgid ""
"<a href=\"#variable_length_integer_varint_format\">9.2. Variable Length "
"Integer (varint) Format</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:165
msgid "<a href=\"#segment_b_tree_format\">9.3. Segment B-Tree Format</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:166
msgid ""
"<a href=\"#segment_b_tree_leaf_nodes\">9.3.1. Segment B-Tree Leaf Nodes</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:167
msgid ""
"<a href=\"#segment_b_tree_interior_nodes\">9.3.2. Segment B-Tree Interior "
"Nodes</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:168
msgid "<a href=\"#doclist_format\">9.4. Doclist Format</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:169
msgid "<a href=\"#limitations\">10. Limitations</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:170
msgid ""
"<a href=\"#_utf_16_byte_order_mark_problem_\">10.1.  UTF-16 byte-order-mark "
"problem </a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/fts3.html:171
msgid "<a href=\"#appendix_a\"> Appendix A: Search Application Tips </a>"
msgstr ""

#. type: Content of: <html><body><div><div><script>
#: sedout/fts3.html:177
msgid ""
"function toggle_toc(){ var sub = document.getElementById(\"toc_sub\")  var "
"mk = document.getElementById(\"toc_mk\")  if( sub.style.display!=\"block\" )"
"{ sub.style.display = \"block\"; mk.innerHTML = \"&#x25bc;\"; } else { sub."
"style.display = \"none\"; mk.innerHTML = \"&#x25ba;\"; } }"
msgstr ""

#. type: Content of: <html><body><div><h2>
#: sedout/fts3.html:196
msgid "Overview"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:199
msgid ""
"FTS3 and FTS4 are SQLite virtual table modules that allows users to perform "
"full-text searches on a set of documents. The most common (and effective)  "
"way to describe full-text searches is \"what Google, Yahoo, and Bing do with "
"documents placed on the World Wide Web\". Users input a term, or series of "
"terms, perhaps connected by a binary operator or grouped together into a "
"phrase, and the full-text query system finds the set of documents that best "
"matches those terms considering the operators and groupings the user has "
"specified. This article describes the deployment and usage of FTS3 and FTS4."
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:209
msgid ""
"FTS1 and FTS2 are obsolete full-text search modules for SQLite.  There are "
"known issues with these older modules and their use should be avoided.  "
"Portions of the original FTS3 code were contributed to the SQLite project by "
"Scott Hess of <a href=\"http://www.google.com\">Google</a>. It is now "
"developed and maintained as part of SQLite."
msgstr ""

#. type: Content of: <html><body><div><h1>
#: sedout/fts3.html:215
msgid "<span>1. </span>Introduction to FTS3 and FTS4"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:218
msgid ""
"The FTS3 and FTS4 extension modules allows users to create special tables "
"with a built-in full-text index (hereafter \"FTS tables\"). The full-text "
"index allows the user to efficiently query the database for all rows that "
"contain one or more words (hereafter \"tokens\"), even if the table contains "
"many large documents."
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:225
msgid ""
"For example, if each of the 517430 documents in the \"<a href=\"http://www."
"cs.cmu.edu/~enron/\">Enron E-Mail Dataset</a>\" is inserted into both an FTS "
"table and an ordinary SQLite table created using the following SQL script:"
msgstr ""

#. type: Content of: <html><body><div><div><pre>
#: sedout/fts3.html:230
#, no-wrap
msgid ""
"CREATE VIRTUAL TABLE enrondata1 USING fts3(content TEXT);     /* FTS3 table */\n"
"CREATE TABLE enrondata2(content TEXT);                        /* Ordinary table */\n"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:235
msgid ""
"Then either of the two queries below may be executed to find the number of "
"documents in the database that contain the word \"linux\" (351). Using one "
"desktop PC hardware configuration, the query on the FTS3 table returns in "
"approximately 0.03 seconds, versus 22.5 for querying the ordinary table."
msgstr ""

#. type: Content of: <html><body><div><div><pre>
#: sedout/fts3.html:240
#, no-wrap
msgid ""
"SELECT count(*) FROM enrondata1 WHERE content MATCH 'linux';  /* 0.03 seconds */\n"
"SELECT count(*) FROM enrondata2 WHERE content LIKE '%linux%'; /* 22.5 seconds */\n"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:245
msgid ""
"Of course, the two queries above are not entirely equivalent. For example "
"the LIKE query matches rows that contain terms such as \"linuxophobe\" or "
"\"EnterpriseLinux\" (as it happens, the Enron E-Mail Dataset does not "
"actually contain any such terms), whereas the MATCH query on the FTS3 table "
"selects only those rows that contain \"linux\" as a discrete token. Both "
"searches are case-insensitive. The FTS3 table consumes around 2006 MB on "
"disk compared to just 1453 MB for the ordinary table. Using the same "
"hardware configuration used to perform the SELECT queries above, the FTS3 "
"table took just under 31 minutes to populate, versus 25 for the ordinary "
"table."
msgstr ""

#. type: Content of: <html><body><div><h2>
#: sedout/fts3.html:256
msgid "<span>1.1. </span>Differences between FTS3 and FTS4"
msgstr ""

#. type: Content of: <html><body><div>
#: sedout/fts3.html:257
msgid "<a name=\"fts4\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:261
msgid ""
"FTS3 and FTS4 are nearly identical. They share most of their code in common, "
"and their interfaces are the same. The differences are:"
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/fts3.html:265
msgid ""
"FTS4 contains query performance optimizations that may significantly improve "
"the performance of full-text queries that contain terms that are very common "
"(present in a large percentage of table rows)."
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/fts3.html:269
msgid ""
"FTS4 supports some additional options that may used with the <a href=\"fts3."
"html#matchinfo\">matchinfo()</a> function."
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/fts3.html:272
msgid ""
"Because it stores extra information on disk in two new <a href=\"fts3."
"html#*shadowtab\">shadow tables</a> in order to support the performance "
"optimizations and extra matchinfo() options, FTS4 tables may consume more "
"disk space than the equivalent table created using FTS3. Usually the "
"overhead is 1-2% or less, but may be as high as 10% if the documents stored "
"in the FTS table are very small. The overhead may be reduced by specifying "
"the directive <a href=\"fts3.html#fts4matchinfo\">\"matchinfo=fts3\"</a> as "
"part of the FTS4 table declaration, but this comes at the expense of "
"sacrificing some of the extra supported matchinfo() options."
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/fts3.html:282
msgid ""
"FTS4 provides hooks (the compress and uncompress <a href=\"fts3."
"html#fts4_options\">options</a>) allowing data to be stored in a compressed "
"form, reducing disk usage and IO."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:288
msgid ""
"FTS4 is an enhancement to FTS3.  FTS3 has been available since SQLite <a "
"href=\"releaselog/3_5_0.html\">version 3.5.0</a> (2007-09-04)  The "
"enhancements for FTS4 were added with SQLite <a href=\"releaselog/3_7_4."
"html\">version 3.7.4</a> (2010-12-07)."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:294
msgid ""
"Which module, FTS3 or FTS4, should you use in your application? FTS4 is "
"sometimes significantly faster than FTS3, even orders of magnitude faster "
"depending on the query, though in the common case the performance of the two "
"modules is similar. FTS4 also offers the enhanced <a href=\"fts3."
"html#matchinfo\">matchinfo()</a> outputs which can be useful in ranking the "
"results of a <a href=\"fts3.html#full_text_index_queries\">MATCH</a> "
"operation.  On the other hand, in the absence of a <a href=\"fts3."
"html#fts4matchinfo\">matchinfo=fts3</a> directive FTS4 requires a little "
"more disk space than FTS3, though only a percent of two in most cases."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:303
msgid ""
"For newer applications, FTS4 is recommended; though if compatibility with "
"older versions of SQLite is important, then FTS3 will usually serve just as "
"well."
msgstr ""

#. type: Content of: <html><body><div><p><h2>
#: sedout/fts3.html:306
msgid "<span>1.2. </span>Creating and Destroying FTS Tables"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:309
msgid ""
"Like other virtual table types, new FTS tables are created using a <a "
"href=\"lang_createvtab.html\">CREATE VIRTUAL TABLE</a> statement. The module "
"name, which follows the USING keyword, is either \"fts3\" or \"fts4\". The "
"virtual table module arguments may be left empty, in which case an FTS table "
"with a single user-defined column named \"content\" is created. "
"Alternatively, the module arguments may be passed a list of comma separated "
"column names."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:317
msgid ""
"If column names are explicitly provided for the FTS table as part of the "
"CREATE VIRTUAL TABLE statement, then a datatype name may be optionally "
"specified for each column. This is pure syntactic sugar, the supplied "
"typenames are not used by FTS or the SQLite core for any purpose. The same "
"applies to any constraints specified along with an FTS column name - they "
"are parsed but not used or recorded by the system in any way."
msgstr ""

#. type: Content of: <html><body><div><p><div><pre>
#: sedout/fts3.html:325
#, no-wrap
msgid ""
"<i>-- Create an FTS table named \"data\" with one column - \"content\":</i>\n"
"CREATE VIRTUAL TABLE data USING fts3();\n"
"\n"
"<i>-- Create an FTS table named \"pages\" with three columns:</i>\n"
"CREATE VIRTUAL TABLE pages USING fts4(title, keywords, body);\n"
"\n"
"<i>-- Create an FTS table named \"mail\" with two columns. Datatypes\n"
"-- and column constraints are specified along with each column. These\n"
"-- are completely ignored by FTS and SQLite. </i>\n"
"CREATE VIRTUAL TABLE mail USING fts3(\n"
"  subject VARCHAR(256) NOT NULL,\n"
"  body TEXT CHECK(length(body)&lt;10240)\n"
");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:341
msgid ""
"As well as a list of columns, the module arguments passed to a CREATE "
"VIRTUAL TABLE statement used to create an FTS table may be used to specify a "
"<a href=\"fts3.html#tokenizer\">tokenizer</a>. This is done by specifying a "
"string of the form \"tokenize=&lt;tokenizer name&gt; &lt;tokenizer args&gt;"
"\" in place of a column name, where &lt;tokenizer name&gt; is the name of "
"the tokenizer to use and &lt;tokenizer args&gt; is an optional list of "
"whitespace separated qualifiers to pass to the tokenizer implementation. A "
"tokenizer specification may be placed anywhere in the column list, but at "
"most one tokenizer declaration is allowed for each CREATE VIRTUAL TABLE "
"statement. <a href=\"fts3.html#tokenizer\">See below</a> for a detailed "
"description of using (and, if necessary, implementing) a tokenizer."
msgstr ""

#. type: Content of: <html><body><div><p><div><pre>
#: sedout/fts3.html:352
#, no-wrap
msgid ""
"<i>-- Create an FTS table named \"papers\" with two columns that uses</i>\n"
"<i>-- the tokenizer \"porter\".</i>\n"
"CREATE VIRTUAL TABLE papers USING fts3(author, document, tokenize=porter);\n"
"\n"
"<i>-- Create an FTS table with a single column - \"content\" - that uses</i>\n"
"<i>-- the \"simple\" tokenizer.</i>\n"
"CREATE VIRTUAL TABLE data USING fts4(tokenize=simple);\n"
"\n"
"<i>-- Create an FTS table with two columns that uses the \"icu\" tokenizer.</i>\n"
"<i>-- The qualifier \"en_AU\" is passed to the tokenizer implementation</i>\n"
"CREATE VIRTUAL TABLE names USING fts3(a, b, tokenize=icu en_AU);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:366
msgid ""
"FTS tables may be dropped from the database using an ordinary <a "
"href=\"lang_droptable.html\">DROP TABLE</a> statement. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><div><pre>
#: sedout/fts3.html:369
#, no-wrap
msgid ""
"<i>-- Create, then immediately drop, an FTS4 table.</i>\n"
"CREATE VIRTUAL TABLE data USING fts4();\n"
"DROP TABLE data;\n"
msgstr ""

#. type: Content of: <html><body><div><p><h2>
#: sedout/fts3.html:374
msgid "<span>1.3. </span>Populating FTS Tables"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:377
msgid ""
"FTS tables are populated using <a href=\"lang_insert.html\">INSERT</a>, <a "
"href=\"lang_update.html\">UPDATE</a> and <a href=\"lang_delete."
"html\">DELETE</a> statements in the same way as ordinary SQLite tables are."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:381
msgid ""
"As well as the columns named by the user (or the \"content\" column if no "
"module arguments were specified as part of the <a href=\"lang_createvtab."
"html\">CREATE VIRTUAL TABLE</a> statement), each FTS table has a \"rowid\" "
"column. The rowid of an FTS table behaves in the same way as the rowid "
"column of an ordinary SQLite table, except that the values stored in the "
"rowid column of an FTS table remain unchanged if the database is rebuilt "
"using the <a href=\"lang_vacuum.html\">VACUUM</a> command.  For FTS tables, "
"\"docid\" is allowed as an alias along with the usual \"rowid\", \"oid\" and "
"\"_oid_\" identifiers. Attempting to insert or update a row with a docid "
"value that already exists in the table is an error, just as it would be with "
"an ordinary SQLite table."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:393
msgid ""
"There is one other subtle difference between \"docid\" and the normal SQLite "
"aliases for the rowid column. Normally, if an INSERT or UPDATE statement "
"assigns discrete values to two or more aliases of the rowid column, SQLite "
"writes the rightmost of such values specified in the INSERT or UPDATE "
"statement to the database. However, assigning a non-NULL value to both the "
"\"docid\" and one or more of the SQLite rowid aliases when inserting or "
"updating an FTS table is considered an error. See below for an example."
msgstr ""

#. type: Content of: <html><body><div><p><div><pre>
#: sedout/fts3.html:401
#, no-wrap
msgid ""
"<i>-- Create an FTS table</i>\n"
"CREATE VIRTUAL TABLE pages USING fts4(title, body);\n"
"\n"
"<i>-- Insert a row with a specific docid value.</i>\n"
"INSERT INTO pages(docid, title, body) VALUES(53, 'Home Page', 'SQLite is a software...');\n"
"\n"
"<i>-- Insert a row and allow FTS to assign a docid value using the same algorithm as</i>\n"
"<i>-- SQLite uses for ordinary tables. In this case the new docid will be 54,</i>\n"
"<i>-- one greater than the largest docid currently present in the table.</i>\n"
"INSERT INTO pages(title, body) VALUES('Download', 'All SQLite source code...');\n"
"\n"
"<i>-- Change the title of the row just inserted.</i>\n"
"UPDATE pages SET title = 'Download SQLite' WHERE rowid = 54;\n"
"\n"
"<i>-- Delete the entire table contents.</i>\n"
"DELETE FROM pages;\n"
"\n"
"<i>-- The following is an error. It is not possible to assign non-NULL values to both</i>\n"
"<i>-- the rowid and docid columns of an FTS table.</i>\n"
"INSERT INTO pages(rowid, docid, title, body) VALUES(1, 2, 'A title', 'A document body');\n"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:424
msgid ""
"To support full-text queries, FTS maintains an inverted index that maps from "
"each unique term or word that appears in the dataset to the locations in "
"which it appears within the table contents. For the curious, a complete "
"description of the <a href=\"fts3.html#data_structures\">data structure</a> "
"used to store this index within the database file appears below. A feature "
"of this data structure is that at any time the database may contain not one "
"index b-tree, but several different b-trees that are incrementally merged as "
"rows are inserted, updated and deleted. This technique improves performance "
"when writing to an FTS table, but causes some overhead for full-text queries "
"that use the index. Evaluating the special <a href=\"fts3."
"html#*fts4optcmd\">\"optimize\" command</a>, an SQL statement of the form "
"\"INSERT INTO &lt;fts-table&gt;(&lt;fts-table&gt;) VALUES('optimize')\", "
"causes FTS to merge all existing index b-trees into a single large b-tree "
"containing the entire index. This can be an expensive operation, but may "
"speed up future queries."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:441
msgid ""
"For example, to optimize the full-text index for an FTS table named \"docs\":"
msgstr ""

#. type: Content of: <html><body><div><p><div><pre>
#: sedout/fts3.html:444
#, no-wrap
msgid ""
"<i>-- Optimize the internal structure of FTS table \"docs\".</i>\n"
"INSERT INTO docs(docs) VALUES('optimize');\n"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:449
msgid ""
"The statement above may appear syntactically incorrect to some. Refer to the "
"section describing the <a href=\"fts3.html#simple_fts_queries\">simple fts "
"queries</a> for an explanation."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:453
msgid ""
"There is another, deprecated, method for invoking the optimize operation "
"using a SELECT statement. New code should use statements similar to the "
"INSERT above to optimize FTS structures."
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/fts3.html:457
msgid "<a name=\"simple_fts_queries\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><h2>
#: sedout/fts3.html:458
msgid "<span>1.4. </span>Simple FTS Queries"
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:461
msgid ""
"As for all other SQLite tables, virtual or otherwise, data is retrieved from "
"FTS tables using a <a href=\"lang_select.html\">SELECT</a> statement."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/fts3.html:465
msgid ""
"FTS tables can be queried efficiently using SELECT statements of two "
"different forms:"
msgstr ""

#. type: Content of: <html><body><div><p><p><ul><li>
#: sedout/fts3.html:470
msgid ""
"<b>Query by rowid</b>. If the WHERE clause of the SELECT statement contains "
"a sub-clause of the form \"rowid = ?\", where ? is an SQL expression, FTS is "
"able to retrieve the requested row directly using the equivalent of an "
"SQLite <a href=\"lang_createtable.html#rowid\">INTEGER PRIMARY KEY</a> index."
msgstr ""

#. type: Content of: <html><body><div><p><p><ul><li>
#: sedout/fts3.html:476
msgid ""
"<b>Full-text query</b>. If the WHERE clause of the SELECT statement contains "
"a sub-clause of the form \"&lt;column&gt; MATCH ?\", FTS is able to use the "
"built-in full-text index to restrict the search to those documents that "
"match the full-text query string specified as the right-hand operand of the "
"MATCH clause."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:484
msgid ""
"If neither of these two query strategies can be used, all queries on FTS "
"tables are implemented using a linear scan of the entire table. If the table "
"contains large amounts of data, this may be an impractical approach (the "
"first example on this page shows that a linear scan of 1.5 GB of data takes "
"around 30 seconds using a modern PC)."
msgstr ""

#. type: Content of: <html><body><div><p><p><div><pre>
#: sedout/fts3.html:490
#, no-wrap
msgid ""
"<i>-- The examples in this block assume the following FTS table:</i>\n"
"CREATE VIRTUAL TABLE mail USING fts3(subject, body);\n"
"\n"
"SELECT * FROM mail WHERE rowid = 15;                <i>-- Fast. Rowid lookup.</i>\n"
"SELECT * FROM mail WHERE body MATCH 'sqlite';       <i>-- Fast. Full-text query.</i>\n"
"SELECT * FROM mail WHERE mail MATCH 'search';       <i>-- Fast. Full-text query.</i>\n"
"SELECT * FROM mail WHERE rowid BETWEEN 15 AND 20;   <i>-- Fast. Rowid lookup.</i>\n"
"SELECT * FROM mail WHERE subject = 'database';      <i>-- Slow. Linear scan.</i>\n"
"SELECT * FROM mail WHERE subject MATCH 'database';  <i>-- Fast. Full-text query.</i>\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:502
msgid ""
"In all of the full-text queries above, the right-hand operand of the MATCH "
"operator is a string consisting of a single term. In this case, the MATCH "
"expression evaluates to true for all documents that contain one or more "
"instances of the specified word (\"sqlite\", \"search\" or \"database\", "
"depending on which example you look at). Specifying a single term as the "
"right-hand operand of the MATCH operator results in the simplest and most "
"common type of full-text query possible. However more complicated queries "
"are possible, including phrase searches, term-prefix searches and searches "
"for documents containing combinations of terms occurring within a defined "
"proximity of each other. The various ways in which the full-text index may "
"be queried are <a href=\"fts3.html#full_text_index_queries\">described "
"below</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:515
msgid ""
"Normally, full-text queries are case-insensitive. However, this is dependent "
"on the specific <a href=\"fts3.html#tokenizer\">tokenizer</a> used by the "
"FTS table being queried. Refer to the section on <a href=\"fts3."
"html#tokenizer\">tokenizers</a> for details."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:520
msgid ""
"The paragraph above notes that a MATCH operator with a simple term as the "
"right-hand operand evaluates to true for all documents that contain the "
"specified term. In this context, the \"document\" may refer to either the "
"data stored in a single column of a row of an FTS table, or to the contents "
"of all columns in a single row, depending on the identifier used as the left-"
"hand operand to the MATCH operator. If the identifier specified as the left-"
"hand operand of the MATCH operator is an FTS table column name, then the "
"document that the search term must be contained in is the value stored in "
"the specified column. However, if the identifier is the name of the FTS "
"<i>table</i> itself, then the MATCH operator evaluates to true for each row "
"of the FTS table for which any column contains the search term. The "
"following example demonstrates this:"
msgstr ""

#. type: Content of: <html><body><div><p><p><div><pre>
#: sedout/fts3.html:533
#, no-wrap
msgid ""
"<i>-- Example schema</i>\n"
"CREATE VIRTUAL TABLE mail USING fts3(subject, body);\n"
"\n"
"<i>-- Example table population</i>\n"
"INSERT INTO mail(docid, subject, body) VALUES(1, 'software feedback', 'found it too slow');\n"
"INSERT INTO mail(docid, subject, body) VALUES(2, 'software feedback', 'no feedback');\n"
"INSERT INTO mail(docid, subject, body) VALUES(3, 'slow lunch order',  'was a software problem');\n"
"\n"
"<i>-- Example queries</i>\n"
"SELECT * FROM mail WHERE subject MATCH 'software';    <i>-- Selects rows 1 and 2</i>\n"
"SELECT * FROM mail WHERE body    MATCH 'feedback';    <i>-- Selects row 2</i>\n"
"SELECT * FROM mail WHERE mail    MATCH 'software';    <i>-- Selects rows 1, 2 and 3</i>\n"
"SELECT * FROM mail WHERE mail    MATCH 'slow';        <i>-- Selects rows 1 and 3</i>\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:549
msgid ""
"At first glance, the final two full-text queries in the example above seem "
"to be syntactically incorrect, as there is a table name (\"mail\") used as "
"an SQL expression. The reason this is acceptable is that each FTS table "
"actually has a <a href=\"c3ref/declare_vtab.html\">HIDDEN</a> column with "
"the same name as the table itself (in this case, \"mail\"). The value stored "
"in this column is not meaningful to the application, but can be used as the "
"left-hand operand to a MATCH operator. This special column may also be "
"passed as an argument to the <a href=\"fts3.html#snippet\">FTS auxiliary "
"functions</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:559
msgid ""
"The following example illustrates the above. The expressions \"docs\", "
"\"docs.docs\" and \"main.docs.docs\" all refer to column \"docs\". However, "
"the expression \"main.docs\" does not refer to any column. It could be used "
"to refer to a table, but a table name is not allowed in the context in which "
"it is used below."
msgstr ""

#. type: Content of: <html><body><div><p><p><div><pre>
#: sedout/fts3.html:565
#, no-wrap
msgid ""
"<i>-- Example schema</i>\n"
"CREATE VIRTUAL TABLE docs USING fts4(content);\n"
"\n"
"<i>-- Example queries</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite';              <i>-- OK.</i>\n"
"SELECT * FROM docs WHERE docs.docs MATCH 'sqlite';         <i>-- OK.</i>\n"
"SELECT * FROM docs WHERE main.docs.docs MATCH 'sqlite';    <i>-- OK.</i>\n"
"SELECT * FROM docs WHERE main.docs MATCH 'sqlite';         <i>-- Error.</i>\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><h2>
#: sedout/fts3.html:575
msgid "<span>1.5. </span>Summary"
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:578
msgid ""
"From the users point of view, FTS tables are similar to ordinary SQLite "
"tables in many ways. Data may be added to, modified within and removed from "
"FTS tables using the INSERT, UPDATE and DELETE commands just as it may be "
"with ordinary tables. Similarly, the SELECT command may be used to query "
"data. The following list summarizes the differences between FTS and ordinary "
"tables:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ol><li>
#: sedout/fts3.html:587
msgid ""
"As with all virtual table types, it is not possible to create indices or "
"triggers attached to FTS tables. Nor is it possible to use the ALTER TABLE "
"command to add extra columns to FTS tables (although it is possible to use "
"ALTER TABLE to rename an FTS table)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ol><li>
#: sedout/fts3.html:593
msgid ""
"Data-types specified as part of the \"CREATE VIRTUAL TABLE\" statement used "
"to create an FTS table are ignored completely. Instead of the normal rules "
"for applying type <a href=\"datatype3.html#affinity\">affinity</a> to "
"inserted values, all values inserted into FTS table columns (except the "
"special rowid column) are converted to type TEXT before being stored."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ol><li>
#: sedout/fts3.html:600
msgid ""
"FTS tables permit the special alias \"docid\" to be used to refer to the "
"rowid column supported by all <a href=\"vtab.html\">virtual tables</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ol><li>
#: sedout/fts3.html:604
msgid ""
"The <a href=\"fts3.html#full_text_index_queries\">FTS MATCH</a> operator is "
"supported for queries based on the built-in full-text index."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ol><li>
#: sedout/fts3.html:608
msgid ""
"The <a href=\"fts3.html#snippet\">FTS auxiliary functions</a>, <a "
"href=\"fts3.html#snippet\">snippet()</a>, <a href=\"fts3."
"html#offsets\">offsets()</a>, and <a href=\"fts3."
"html#matchinfo\">matchinfo()</a> are available to support full-text queries."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ol><li>
#: sedout/fts3.html:612
msgid ""
"<a name=\"hiddencol\"></a> Every FTS table has a <a href=\"vtab."
"html#hiddencol\">hidden column</a> with the same name as the table itself. "
"The value contained in each row for the hidden column is a blob that is only "
"useful as the left operand of a <a href=\"fts3."
"html#full_text_index_queries\">MATCH</a> operator, or as the left-most "
"argument to one of the <a href=\"fts3.html#snippet\">FTS auxiliary "
"functions</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:624
msgid "<a name=\"compiling_and_enabling_fts3_and_fts4\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><h1>
#: sedout/fts3.html:625
msgid "<span>2. </span>Compiling and Enabling FTS3 and FTS4"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:628
msgid ""
"Although FTS3 and FTS4 are included with the SQLite core source code, they "
"are not enabled by default. To build SQLite with FTS functionality enabled, "
"define the preprocessor macro <a href=\"compile."
"html#enable_fts3\">SQLITE_ENABLE_FTS3</a> when compiling. New applications "
"should also define the <a href=\"compile."
"html#enable_fts3_parenthesis\">SQLITE_ENABLE_FTS3_PARENTHESIS</a> macro to "
"enable the <a href=\"fts3."
"html#_set_operations_using_the_enhanced_query_syntax\">enhanced query "
"syntax</a> (see below). Usually, this is done by adding the following two "
"switches to the compiler command line:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><div><pre>
#: sedout/fts3.html:635
#, no-wrap
msgid ""
"-DSQLITE_ENABLE_FTS3\n"
"-DSQLITE_ENABLE_FTS3_PARENTHESIS\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:640
msgid ""
"Note that enabling FTS3 also makes FTS4 available.  There is not a separate "
"SQLITE_ENABLE_FTS4 compile-time option.  A build of SQLite either supports "
"both FTS3 and FTS4 or it supports neither."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:645
msgid ""
"If using the amalgamation autoconf based build system, setting the CPPFLAGS "
"environment variable while running the 'configure' script is an easy way to "
"set these macros. For example, the following command:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><div><pre>
#: sedout/fts3.html:649
#, no-wrap
msgid "CPPFLAGS=\"-DSQLITE_ENABLE_FTS3 -DSQLITE_ENABLE_FTS3_PARENTHESIS\" ./configure &lt;configure options&gt;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:653
msgid ""
"where <i>&lt;configure options&gt;</i> are those options normally passed to "
"the configure script, if any."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:657
msgid ""
"Because FTS3 and FTS4 are virtual tables, The <a href=\"compile."
"html#enable_fts3\">SQLITE_ENABLE_FTS3</a> compile-time option is "
"incompatible with the <a href=\"compile."
"html#omit_virtualtable\">SQLITE_OMIT_VIRTUALTABLE</a> option."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:661
msgid ""
"If a build of SQLite does not include the FTS modules, then any attempt to "
"prepare an SQL statement to create an FTS3 or FTS4 table or to drop or "
"access an existing FTS table in any way will fail. The error message "
"returned will be similar to \"no such module: ftsN\" (where N is either 3 or "
"4)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:667
msgid ""
"If the C version of the <a href=\"https://icu.unicode.org\">ICU library</a> "
"is available, then FTS may also be compiled with the SQLITE_ENABLE_ICU pre-"
"processor macro defined. Compiling with this macro enables an FTS <a "
"href=\"fts3.html#tokenizer\">tokenizer</a> that uses the ICU library to "
"split a document into terms (words) using the conventions for a specified "
"language and locale."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><div><pre>
#: sedout/fts3.html:673
#, no-wrap
msgid "-DSQLITE_ENABLE_ICU\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/fts3.html:677
msgid "<a name=\"full_text_index_queries\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><h1>
#: sedout/fts3.html:678
msgid "<span>3. </span>Full-text Index Queries"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:681
msgid ""
"The most useful thing about FTS tables is the queries that may be performed "
"using the built-in full-text index. Full-text queries are performed by "
"specifying a clause of the form \"&lt;column&gt; MATCH &lt;full-text query "
"expression&gt;\" as part of the WHERE clause of a SELECT statement that "
"reads data from an FTS table.  <a href=\"fts3."
"html#simple_fts_queries\">Simple FTS queries</a> that return all documents "
"that contain a given term are described above. In that discussion the right-"
"hand operand of the MATCH operator was assumed to be a string consisting of "
"a single term. This section describes the more complex query types supported "
"by FTS tables, and how they may be utilized by specifying a more complex "
"query expression as the right-hand operand of a MATCH operator."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:694
msgid "FTS tables support three basic query types:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul>
#: sedout/fts3.html:697
msgid "<a name=\"termprefix\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/fts3.html:699
msgid ""
"<b>Token or token prefix queries</b>.  An FTS table may be queried for all "
"documents that contain a specified term (the <a href=\"fts3."
"html#simple_fts_queries\">simple case</a> described above), or for all "
"documents that contain a term with a specified prefix. As we have seen, the "
"query expression for a specific term is simply the term itself.  The query "
"expression used to search for a term prefix is the prefix itself with a '*' "
"character appended to it. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><div><pre>
#: sedout/fts3.html:708
#, no-wrap
msgid ""
"<i>-- Virtual table declaration</i>\n"
"CREATE VIRTUAL TABLE docs USING fts3(title, body);\n"
"\n"
"<i>-- Query for all documents containing the term \"linux\":</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'linux';\n"
"\n"
"<i>-- Query for all documents containing a term with the prefix \"lin\". This will match</i>\n"
"<i>-- all documents that contain \"linux\", but also those that contain terms \"linear\",</i>\n"
"<i>--\"linker\", \"linguistic\" and so on.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'lin*';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/fts3.html:722
msgid ""
"Normally, a token or token prefix query is matched against the FTS table "
"column specified as the left-hand side of the MATCH operator. Or, if the "
"special column with the same name as the FTS table itself is specified, "
"against all columns. This may be overridden by specifying a column-name "
"followed by a \":\" character before a basic term query. There may be space "
"between the \":\" and the term to query for, but not between the column-name "
"and the \":\" character. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><div><pre>
#: sedout/fts3.html:731
#, no-wrap
msgid ""
"<i>-- Query the database for documents for which the term \"linux\" appears in</i>\n"
"<i>-- the document title, and the term \"problems\" appears in either the title</i>\n"
"<i>-- or body of the document.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'title:linux problems';\n"
"\n"
"<i>-- Query the database for documents for which the term \"linux\" appears in</i>\n"
"<i>-- the document title, and the term \"driver\" appears in the body of the document</i>\n"
"<i>-- (\"driver\" may also appear in the title, but this alone will not satisfy the</i>\n"
"<i>-- query criteria).</i>\n"
"SELECT * FROM docs WHERE body MATCH 'title:linux driver';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/fts3.html:745
msgid ""
"If the FTS table is an FTS4 table (not FTS3), a token may also be prefixed "
"with a \"&#94;\" character. In this case, in order to match the token must "
"appear as the very first token in any column of the matching row. Examples:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><div><pre>
#: sedout/fts3.html:750
#, no-wrap
msgid ""
"<i>-- All documents for which \"linux\" is the first token of at least one</i>\n"
"<i>-- column.</i>\n"
"SELECT * FROM docs WHERE docs MATCH '&#94;linux';\n"
"\n"
"<i>-- All documents for which the first token in column \"title\" begins with \"lin\".</i>\n"
"SELECT * FROM docs WHERE body MATCH 'title: &#94;lin*';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:758
msgid "<a name=\"phrase\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/fts3.html:761
msgid ""
"<b>Phrase queries</b>.  A phrase query is a query that retrieves all "
"documents that contain a nominated set of terms or term prefixes in a "
"specified order with no intervening tokens. Phrase queries are specified by "
"enclosing a space separated sequence of terms or term prefixes in double "
"quotes (\").  For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><div><pre>
#: sedout/fts3.html:769
#, no-wrap
msgid ""
"<i>-- Query for all documents that contain the phrase \"linux applications\".</i>\n"
"SELECT * FROM docs WHERE docs MATCH '\"linux applications\"';\n"
"\n"
"<i>-- Query for all documents that contain a phrase that matches \"lin* app*\". As well as</i>\n"
"<i>-- \"linux applications\", this will match common phrases such as \"linoleum appliances\"</i>\n"
"<i>-- or \"link apprentice\".</i>\n"
"SELECT * FROM docs WHERE docs MATCH '\"lin* app*\"';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/fts3.html:778
msgid "<a name=\"near\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/fts3.html:781
msgid ""
"<b>NEAR queries</b>.  A NEAR query is a query that returns documents that "
"contain a two or more nominated terms or phrases within a specified "
"proximity of each other (by default with 10 or less intervening terms). A "
"NEAR query is specified by putting the keyword \"NEAR\" between two phrase, "
"token or token prefix queries. To specify a proximity other than the "
"default, an operator of the form \"NEAR/<i>&lt;N&gt;</i>\" may be used, "
"where <i>&lt;N&gt;</i> is the maximum number of intervening terms allowed.  "
"For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><div><pre>
#: sedout/fts3.html:792
#, no-wrap
msgid ""
"<i>-- Virtual table declaration.</i>\n"
"CREATE VIRTUAL TABLE docs USING fts4();\n"
"\n"
"<i>-- Virtual table data.</i>\n"
"INSERT INTO docs VALUES('SQLite is an ACID compliant embedded relational database management system');\n"
"\n"
"<i>-- Search for a document that contains the terms \"sqlite\" and \"database\" with</i>\n"
"<i>-- not more than 10 intervening terms. This matches the only document in</i>\n"
"<i>-- table docs (since there are only six terms between \"SQLite\" and \"database\"</i>\n"
"<i>-- in the document)</i>.\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite NEAR database';\n"
"\n"
"<i>-- Search for a document that contains the terms \"sqlite\" and \"database\" with</i>\n"
"<i>-- not more than 6 intervening terms. This also matches the only document in</i>\n"
"<i>-- table docs. Note that the order in which the terms appear in the document</i>\n"
"<i>-- does not have to be the same as the order in which they appear in the query.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'database NEAR/6 sqlite';\n"
"\n"
"<i>-- Search for a document that contains the terms \"sqlite\" and \"database\" with</i>\n"
"<i>-- not more than 5 intervening terms. This query matches no documents.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'database NEAR/5 sqlite';\n"
"\n"
"<i>-- Search for a document that contains the phrase \"ACID compliant\" and the term</i>\n"
"<i>-- \"database\" with not more than 2 terms separating the two. This matches the</i>\n"
"<i>-- document stored in table docs.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'database NEAR/2 \"ACID compliant\"';\n"
"\n"
"<i>-- Search for a document that contains the phrase \"ACID compliant\" and the term</i>\n"
"<i>-- \"sqlite\" with not more than 2 terms separating the two. This also matches</i>\n"
"<i>-- the only document stored in table docs.</i>\n"
"SELECT * FROM docs WHERE docs MATCH '\"ACID compliant\" NEAR/2 sqlite';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/fts3.html:827
msgid ""
"More than one NEAR operator may appear in a single query. In this case each "
"pair of terms or phrases separated by a NEAR operator must appear within the "
"specified proximity of each other in the document. Using the same table and "
"data as in the block of examples above:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><div><pre>
#: sedout/fts3.html:833
#, no-wrap
msgid ""
"<i>-- The following query selects documents that contains an instance of the term </i>\n"
"<i>-- \"sqlite\" separated by two or fewer terms from an instance of the term \"acid\",</i>\n"
"<i>-- which is in turn separated by two or fewer terms from an instance of the term</i>\n"
"<i>-- \"relational\".</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite NEAR/2 acid NEAR/2 relational';\n"
"\n"
"<i>-- This query matches no documents. There is an instance of the term \"sqlite\" with</i>\n"
"<i>-- sufficient proximity to an instance of \"acid\" but it is not sufficiently close</i>\n"
"<i>-- to an instance of the term \"relational\".</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'acid NEAR/2 sqlite NEAR/2 relational';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p>
#: sedout/fts3.html:846
msgid "Phrase and NEAR queries may not span multiple columns within a row."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p>
#: sedout/fts3.html:849
msgid ""
"The three basic query types described above may be used to query the full-"
"text index for the set of documents that match the specified criteria. Using "
"the FTS query expression language it is possible to perform various set "
"operations on the results of basic queries. There are currently three "
"supported operations:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><ul><li>
#: sedout/fts3.html:856
msgid ""
"The AND operator determines the <b>intersection</b> of two sets of documents."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><ul><li>
#: sedout/fts3.html:858
msgid "The OR operator calculates the <b>union</b> of two sets of documents."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><ul><li>
#: sedout/fts3.html:860
msgid ""
"The NOT operator (or, if using the standard syntax, a unary \"-\" operator)  "
"may be used to compute the <b>relative complement</b> of one set of "
"documents with respect to another."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/fts3.html:866
msgid ""
"The FTS modules may be compiled to use one of two slightly different "
"versions of the full-text query syntax, the \"standard\" query syntax and "
"the \"enhanced\" query syntax. The basic term, term-prefix, phrase and NEAR "
"queries described above are the same in both versions of the syntax. The way "
"in which set operations are specified is slightly different. The following "
"two sub-sections describe the part of the two query syntaxes that pertains "
"to set operations.  Refer to the description of how to <a href=\"fts3."
"html#compiling_and_enabling_fts3_and_fts4\">compile fts</a> for compilation "
"notes."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p>
#: sedout/fts3.html:874
msgid "<a name=\"_set_operations_using_the_enhanced_query_syntax\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><h2>
#: sedout/fts3.html:875
msgid "<span>3.1. </span> Set Operations Using The Enhanced Query Syntax"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/fts3.html:879
msgid ""
"The enhanced query syntax supports the AND, OR and NOT binary set "
"operators.  Each of the two operands to an operator may be a basic FTS "
"query, or the result of another AND, OR&nbsp;or NOT set operation. Operators "
"must be entered using capital letters. Otherwise, they are interpreted as "
"basic term queries instead of set operators."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/fts3.html:886
msgid ""
"The AND operator may be implicitly specified. If two basic queries appear "
"with no operator separating them in an FTS query string, the results are the "
"same as if the two basic queries were separated by an AND operator.  For "
"example, the query expression \"implicit operator\" is a more succinct "
"version of \"implicit AND operator\"."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><div><pre>
#: sedout/fts3.html:892
#, no-wrap
msgid ""
"<i>-- Virtual table declaration</i>\n"
"CREATE VIRTUAL TABLE docs USING fts3();\n"
"\n"
"<i>-- Virtual table data</i>\n"
"INSERT INTO docs(docid, content) VALUES(1, 'a database is a software system');\n"
"INSERT INTO docs(docid, content) VALUES(2, 'sqlite is a software system');\n"
"INSERT INTO docs(docid, content) VALUES(3, 'sqlite is a database');\n"
"\n"
"<i>-- Return the set of documents that contain the term \"sqlite\", and the</i>\n"
"<i>-- term \"database\". This query will return the document with docid 3 only.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite AND database';\n"
"\n"
"<i>-- Again, return the set of documents that contain both \"sqlite\" and</i>\n"
"<i>-- \"database\". This time, use an implicit AND operator. Again, document</i>\n"
"<i>-- 3 is the only document matched by this query. </i>\n"
"SELECT * FROM docs WHERE docs MATCH 'database sqlite';\n"
"\n"
"<i>-- Query for the set of documents that contains either \"sqlite\" or \"database\".</i>\n"
"<i>-- All three documents in the database are matched by this query.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite OR database';\n"
"\n"
"<i>-- Query for all documents that contain the term \"database\", but do not contain</i>\n"
"<i>-- the term \"sqlite\". Document 1 is the only document that matches this criteria.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'database NOT sqlite';\n"
"\n"
"<i>-- The following query matches no documents. Because \"and\" is in lowercase letters,</i>\n"
"<i>-- it is interpreted as a basic term query instead of an operator. Operators must</i>\n"
"<i>-- be specified using capital letters. In practice, this query will match any documents</i>\n"
"<i>-- that contain each of the three terms \"database\", \"and\" and \"sqlite\" at least once.</i>\n"
"<i>-- No documents in the example data above match this criteria.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'database and sqlite';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/fts3.html:926
msgid ""
"The examples above all use basic full-text term queries as both operands of "
"the set operations demonstrated. Phrase and NEAR queries may also be used, "
"as may the results of other set operations. When more than one set operation "
"is present in an FTS query, the precedence of operators is as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:932 sedout/fts3.html:1007
msgid "Operator"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:932
msgid "Enhanced Query Syntax Precedence"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:933
msgid "NOT"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:933 sedout/fts3.html:1008
msgid "Highest precedence (tightest grouping)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:934 sedout/fts3.html:1010
msgid "AND"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:935 sedout/fts3.html:1009
msgid "OR"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:935 sedout/fts3.html:1010
msgid "Lowest precedence (loosest grouping)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/fts3.html:939
msgid ""
"When using the enhanced query syntax, parenthesis may be used to override "
"the default precedence of the various operators. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><div><pre>
#: sedout/fts3.html:942
#, no-wrap
msgid ""
"<i>-- Return the docid values associated with all documents that contain the</i>\n"
"<i>-- two terms \"sqlite\" and \"database\", and/or contain the term \"library\".</i>\n"
"SELECT docid FROM docs WHERE docs MATCH 'sqlite AND database OR library';\n"
"\n"
"<i>-- This query is equivalent to the above.</i>\n"
"SELECT docid FROM docs WHERE docs MATCH 'sqlite AND database'\n"
"  UNION\n"
"SELECT docid FROM docs WHERE docs MATCH 'library';\n"
"\n"
"<i>-- Query for the set of documents that contains the term \"linux\", and at least</i>\n"
"<i>-- one of the phrases \"sqlite database\" and \"sqlite library\".</i>\n"
"SELECT docid FROM docs WHERE docs MATCH '(\"sqlite database\" OR \"sqlite library\") AND linux';\n"
"\n"
"<i>-- This query is equivalent to the above.</i>\n"
"SELECT docid FROM docs WHERE docs MATCH 'linux'\n"
"  INTERSECT\n"
"SELECT docid FROM (\n"
"  SELECT docid FROM docs WHERE docs MATCH '\"sqlite library\"'\n"
"    UNION\n"
"  SELECT docid FROM docs WHERE docs MATCH '\"sqlite database\"'\n"
");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><h2>
#: sedout/fts3.html:966
msgid "<span>3.2. </span>Set Operations Using The Standard Query Syntax"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/fts3.html:969
msgid ""
"FTS query set operations using the standard query syntax are similar, but "
"not identical, to set operations with the enhanced query syntax. There are "
"four differences, as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:974
msgid ""
"Only the implicit version of the AND operator is supported.  Specifying the "
"string \"AND\" as part of a standard query syntax query is interpreted as a "
"term query for the set of documents containing the term \"and\"."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:981
msgid "Parenthesis are not supported."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:985
msgid ""
"The NOT operator is not supported. Instead of the NOT operator, the standard "
"query syntax supports a unary \"-\" operator that may be applied to basic "
"term and term-prefix queries (but not to phrase or NEAR queries). A term or "
"term-prefix that has a unary \"-\" operator attached to it may not appear as "
"an operand to an OR operator. An FTS query may not consist entirely of terms "
"or term-prefix queries with unary \"-\" operators attached to them."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:994
#, no-wrap
msgid ""
"<i>-- Search for the set of documents that contain the term \"sqlite\" but do</i>\n"
"<i>-- not contain the term \"database\".</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite -database';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:1000
msgid ""
"The relative precedence of the set operations is different.  In particular, "
"using the standard query syntax the \"OR\" operator has a higher precedence "
"than \"AND\". The precedence of operators when using the standard query "
"syntax is:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1007
msgid "Standard Query Syntax Precedence"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1008
msgid "Unary \"-\""
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:1014
msgid ""
"The following example illustrates precedence of operators using the standard "
"query syntax:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1018
#, no-wrap
msgid ""
"<i>-- Search for documents that contain at least one of the terms \"database\"</i>\n"
"<i>-- and \"sqlite\", and also contain the term \"library\". Because of the differences</i>\n"
"<i>-- in operator precedences, this query would have a different interpretation using</i>\n"
"<i>-- the enhanced query syntax.</i>\n"
"SELECT * FROM docs WHERE docs MATCH 'sqlite OR database library';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1025 sedout/fts3.html:1137
msgid "<a name=\"snippet\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><h1>
#: sedout/fts3.html:1027
msgid "<span>4. </span>Auxiliary Functions - Snippet, Offsets and Matchinfo"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1030
msgid ""
"The FTS3 and FTS4 modules provide three special SQL scalar functions that "
"may be useful to the developers of full-text query systems: \"snippet\", "
"\"offsets\" and \"matchinfo\". The purpose of the \"snippet\" and "
"\"offsets\" functions is to allow the user to identify the location of "
"queried terms in the returned documents.  The \"matchinfo\" function "
"provides the user with metrics that may be useful for filtering or sorting "
"query results according to relevance."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1038
msgid ""
"The first argument to all three special SQL scalar functions must be the <a "
"href=\"fts3.html#hiddencol\">FTS hidden column</a> of the FTS table that the "
"function is applied to.  The <a href=\"fts3.html#hiddencol\">FTS hidden "
"column</a> is an automatically-generated column found on all FTS tables that "
"has the same name as the FTS table itself.  For example, given an FTS table "
"named \"mail\":"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1044
#, no-wrap
msgid ""
"SELECT offsets(mail) FROM mail WHERE mail MATCH &lt;full-text query expression&gt;;\n"
"SELECT snippet(mail) FROM mail WHERE mail MATCH &lt;full-text query expression&gt;;\n"
"SELECT matchinfo(mail) FROM mail WHERE mail MATCH &lt;full-text query expression&gt;;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1050
msgid ""
"The three auxiliary functions are only useful within a SELECT statement that "
"uses the FTS table's full-text index. If used within a SELECT that uses the "
"\"query by rowid\" or \"linear scan\" strategies, then the snippet and "
"offsets both return an empty string, and the matchinfo function returns a "
"blob value zero bytes in size.  <a name=\"matchable\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1059
msgid ""
"All three auxiliary functions extract a set of \"matchable phrases\" from "
"the FTS query expression to work with. The set of matchable phrases for a "
"given query consists of all phrases (including unquoted tokens and token "
"prefixes) in the expression except those that are prefixed with a unary \"-"
"\" operator (standard syntax) or are part of a sub-expression that is used "
"as the right-hand operand of a NOT operator."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1067
msgid ""
"With the following provisos, each series of tokens in the FTS table that "
"matches one of the matchable phrases in the query expression is known as a "
"\"phrase match\":"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:1072
msgid ""
"If a matchable phrase is part of a series of phrases connected by NEAR "
"operators in the FTS query expression, then each phrase match must be "
"sufficiently close to other phrase matches of the relevant types to satisfy "
"the NEAR condition."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:1077
msgid ""
"If the matchable phrase in the FTS query is restricted to matching data in a "
"specified FTS table column, then only phrase matches that occur within that "
"column are considered."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/fts3.html:1082
msgid "<a name=\"offsets\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><h2>
#: sedout/fts3.html:1084
msgid "<span>4.1. </span>The Offsets Function"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1087
msgid ""
"For a SELECT query that uses the full-text index, the offsets() function "
"returns a text value containing a series of space-separated integers. For "
"each term in each <a href=\"#matchable\">phrase match</a> of the current "
"row, there are four integers in the returned list. Each set of four integers "
"is interpreted as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1094
msgid "Integer"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1094 sedout/fts3.html:1621 sedout/fts3.html:2852
msgid "Interpretation"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1095 sedout/fts3.html:1148
msgid "0"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1096
msgid ""
"The column number that the term instance occurs in (0 for the leftmost "
"column of the FTS table, 1 for the next leftmost, etc.)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1098 sedout/fts3.html:1153 sedout/fts3.html:1287
#: sedout/fts3.html:1288 sedout/fts3.html:1386
msgid "1"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1099
msgid ""
"The term number of the matching term within the full-text query expression. "
"Terms within a query expression are numbered starting from 0 in the order "
"that they occur."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1102 sedout/fts3.html:1155
msgid "2"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1103
msgid "The byte offset of the matching term within the column."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1104 sedout/fts3.html:1157
msgid "3"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1105
msgid "The size of the matching term in bytes."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1109
msgid "The following block contains examples that use the offsets function."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1111
#, no-wrap
msgid ""
"CREATE VIRTUAL TABLE mail USING fts3(subject, body);\n"
"INSERT INTO mail VALUES('hello world', 'This message is a hello world message.');\n"
"INSERT INTO mail VALUES('urgent: serious', 'This mail is seen as a more serious mail');\n"
"\n"
"<i>-- The following query returns a single row (as it matches only the first</i>\n"
"<i>-- entry in table \"mail\". The text returned by the offsets function is</i>\n"
"<i>-- \"0 0 6 5 1 0 24 5\".</i>\n"
"<i>--</i>\n"
"<i>-- The first set of four integers in the result indicate that column 0</i>\n"
"<i>-- contains an instance of term 0 (\"world\") at byte offset 6. The term instance</i>\n"
"<i>-- is 5 bytes in size. The second set of four integers shows that column 1</i>\n"
"<i>-- of the matched row contains an instance of term 0 (\"world\") at byte offset</i>\n"
"<i>-- 24. Again, the term instance is 5 bytes in size.</i>\n"
"SELECT offsets(mail) FROM mail WHERE mail MATCH 'world';\n"
"\n"
"<i>-- The following query returns also matches only the first row in table \"mail\".</i>\n"
"<i>-- In this case the returned text is \"1 0 5 7 1 0 30 7\".</i>\n"
"SELECT offsets(mail) FROM mail WHERE mail MATCH 'message';\n"
"\n"
"<i>-- The following query matches the second row in table \"mail\". It returns the</i>\n"
"<i>-- text \"1 0 28 7 1 1 36 4\". Only those occurrences of terms \"serious\" and \"mail\"</i>\n"
"<i>-- that are part of an instance of the phrase \"serious mail\" are identified; the</i>\n"
"<i>-- other occurrences of \"serious\" and \"mail\" are ignored.</i>\n"
"SELECT offsets(mail) FROM mail WHERE mail MATCH '\"serious mail\"';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><h2>
#: sedout/fts3.html:1139
msgid "<span>4.2. </span>The Snippet Function"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1142
msgid ""
"The snippet function is used to create formatted fragments of document text "
"for display as part of a full-text query results report. The snippet "
"function may be passed between one and six arguments, as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1147
msgid "Argument"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1147
msgid "Default Value"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1147 sedout/fts3.html:1286
msgid "Description"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1148
msgid "N/A"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1149
msgid ""
"The first argument to the snippet function must always be the <a href=\"fts3."
"html#hiddencol\">FTS hidden column</a> of the FTS table being queried and "
"from which the snippet is to be taken.  The <a href=\"fts3."
"html#hiddencol\">FTS hidden column</a> is an automatically generated column "
"with the same name as the FTS table itself."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1153
msgid "\"&lt;b&gt;\""
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1154
msgid "The \"start match\" text."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1155
msgid "\"&lt;/b&gt;\""
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1156
msgid "The \"end match\" text."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1157
msgid "\"&lt;b&gt;...&lt;/b&gt;\""
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1158
msgid "The \"ellipses\" text."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1159
msgid "4"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1159 sedout/fts3.html:2836
msgid "-1"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1160
msgid ""
"The FTS table column number to extract the returned fragments of text from. "
"Columns are numbered from left to right starting with zero. A negative value "
"indicates that the text may be extracted from any column."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1164
msgid "5"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1164
msgid "-15"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1165
msgid ""
"The absolute value of this integer argument is used as the (approximate) "
"number of tokens to include in the returned text value. The maximum "
"allowable absolute value is 64. The value of this argument is referred to as "
"<i>N</i> in the discussion below."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1172
msgid ""
"The snippet function first attempts to find a fragment of text consisting of "
"<i>|N|</i> tokens within the current row that contains at least one phrase "
"match for each matchable phrase matched somewhere in the current row, where "
"<i>|N|</i> is the absolute value of the sixth argument passed to the snippet "
"function. If the text stored in a single column contains less than <i>|N|</"
"i> tokens, then the entire column value is considered. Text fragments may "
"not span multiple columns."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1181
msgid ""
"If such a text fragment can be found, it is returned with the following "
"modifications:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ul><li>
#: sedout/fts3.html:1185
msgid ""
"If the text fragment does not begin at the start of a column value, the "
"\"ellipses\" text is prepended to it."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ul><li>
#: sedout/fts3.html:1187
msgid ""
"If the text fragment does not finish at the end of a column value, the "
"\"ellipses\" text is appended to it."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ul><li>
#: sedout/fts3.html:1189
msgid ""
"For each token in the text fragment that is part of a phrase match, the "
"\"start match\" text is inserted into the fragment before the token, and the "
"\"end match\" text is inserted immediately after it."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1195
msgid ""
"If more than one such fragment can be found, then fragments that contain a "
"larger number of \"extra\" phrase matches are favored. The start of the "
"selected text fragment may be moved a few tokens forward or backward to "
"attempt to concentrate the phrase matches toward the center of the fragment."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1202
msgid ""
"Assuming <i>N</i> is a positive value, if no fragments can be found that "
"contain a phrase match corresponding to each matchable phrase, the snippet "
"function attempts to find two fragments of approximately <i>N</i>/2 tokens "
"that between them contain at least one phrase match for each matchable "
"phrase matched by the current row. If this fails, attempts are made to find "
"three fragments of <i>N</i>/3 tokens each and finally four <i>N</i>/4 token "
"fragments. If a set of four fragments cannot be found that encompasses the "
"required phrase matches, the four fragments of <i>N</i>/4 tokens that "
"provide the best coverage are selected."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1213
msgid ""
"If <i>N</i> is a negative value, and no single fragment can be found "
"containing the required phrase matches, the snippet function searches for "
"two fragments of <i>|N|</i> tokens each, then three, then four. In other "
"words, if the specified value of <i>N</i> is negative, the sizes of the "
"fragments is not decreased if more than one fragment is required to provide "
"the desired phrase match coverage."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1221
msgid ""
"After the <i>M</i> fragments have been located, where <i>M</i> is between "
"two and four as described in the paragraphs above, they are joined together "
"in sorted order with the \"ellipses\" text separating them. The three "
"modifications enumerated earlier are performed on the text before it is "
"returned."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1227
#, no-wrap
msgid ""
"<b>Note: In this block of examples, newlines and whitespace characters have\n"
"been inserted into the document inserted into the FTS table, and the expected\n"
"results described in SQL comments. This is done to enhance readability only,\n"
"they would not be present in actual SQLite commands or output.</b>\n"
"\n"
"<i>-- Create and populate an FTS table.</i>\n"
"CREATE VIRTUAL TABLE text USING fts4();\n"
"INSERT INTO text VALUES('\n"
"  During 30 Nov-1 Dec, 2-3oC drops. Cool in the upper portion, minimum temperature 14-16oC\n"
"  and cool elsewhere, minimum temperature 17-20oC. Cold to very cold on mountaintops,\n"
"  minimum temperature 6-12oC. Northeasterly winds 15-30 km/hr. After that, temperature\n"
"  increases. Northeasterly winds 15-30 km/hr.\n"
"');\n"
"\n"
"<i>-- The following query returns the text value:</i>\n"
"<i>--</i>\n"
"<i>--   \"&lt;b&gt;...&lt;/b&gt;cool elsewhere, minimum temperature 17-20oC. &lt;b&gt;Cold&lt;/b&gt; to very </i>\n"
"<i>--    &lt;b&gt;cold&lt;/b&gt; on mountaintops, minimum temperature 6&lt;b&gt;...&lt;/b&gt;\".</i>\n"
"<i>--</i>\n"
"SELECT snippet(text) FROM text WHERE text MATCH 'cold';\n"
"\n"
"<i>-- The following query returns the text value:</i>\n"
"<i>--</i>\n"
"<i>--   \"...the upper portion, &#91;minimum&#93; &#91;temperature&#93; 14-16oC and cool elsewhere,</i>\n"
"<i>--    &#91;minimum&#93; &#91;temperature&#93; 17-20oC. Cold...\"</i>\n"
"<i>--</i>\n"
"SELECT snippet(text, '&#91;', '&#93;', '...') FROM text WHERE text MATCH '\"min* tem*\"'\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1256
msgid "<a name=\"matchinfo\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h2>
#: sedout/fts3.html:1257
msgid "<span>4.3. </span>The Matchinfo Function"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1260
msgid ""
"The matchinfo function returns a blob value. If it is used within a query "
"that does not use the full-text index (a \"query by rowid\" or \"linear "
"scan\"), then the blob is zero bytes in size. Otherwise, the blob consists "
"of zero or more 32-bit unsigned integers in machine byte-order. The exact "
"number of integers in the returned array depends on both the query and the "
"value of the second argument (if any) passed to the matchinfo function."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1268
msgid ""
"The matchinfo function is called with either one or two arguments. As for "
"all auxiliary functions, the first argument must be the special <a "
"href=\"fts3.html#hiddencol\">FTS hidden column</a>. The second argument, if "
"it is specified, must be a text value comprised only of the characters 'p', "
"'c', 'n', 'a', 'l', 's', 'x', 'y' and 'b'.  If no second argument is "
"explicitly supplied, it defaults to \"pcx\". The second argument is referred "
"to as the \"format string\" below."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1276
msgid ""
"Characters in the matchinfo format string are processed from left to right.  "
"Each character in the format string causes one or more 32-bit unsigned "
"integer values to be added to the returned array. The \"values\" column in "
"the following table contains the number of integer values appended to the "
"output buffer for each supported format string character. In the formula "
"given, <i>cols</i> is the number of columns in the FTS table, and "
"<i>phrases</i> is the number of <a href=\"#matchable\">matchable phrases</a> "
"in the query."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1286
msgid "Character"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1286
msgid "Values"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1287
msgid "p"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1287
msgid "The number of matchable phrases in the query."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1288
msgid "c"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1288
msgid ""
"The number of user defined columns in the FTS table (i.e. not including the "
"docid or the <a href=\"fts3.html#hiddencol\">FTS hidden column</a>)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1290
msgid "x"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1290
msgid "3 * <i>cols</i> * <i>phrases</i>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1291
msgid ""
"<a name=\"matchinfo-x\"></a> For each distinct combination of a phrase and "
"table column, the following three values:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><ul><li>
#: sedout/fts3.html:1296
msgid ""
"In the current row, the number of times the phrase appears in the column."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><ul><li>
#: sedout/fts3.html:1298
msgid ""
"The total number of times the phrase appears in the column in all rows in "
"the FTS table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><ul><li>
#: sedout/fts3.html:1300
msgid ""
"The total number of rows in the FTS table for which the column contains at "
"least one instance of the phrase."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1303
msgid ""
"The first set of three values corresponds to the left-most column of the "
"table (column 0) and the left-most matchable phrase in the query (phrase 0). "
"If the table has more than one column, the second set of three values in the "
"output array correspond to phrase 0 and column 1. Followed by phrase 0, "
"column 2 and so on for all columns of the table. And so on for phrase 1, "
"column 0, then phrase 1, column 1 etc. In other words, the data for "
"occurrences of phrase <i>p</i> in column <i>c</i> may be found using the "
"following formula:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><pre>
#: sedout/fts3.html:1312
#, no-wrap
msgid ""
"          hits_this_row  = array&#91;3 * (c + p*cols) + 0&#93;\n"
"          hits_all_rows  = array&#91;3 * (c + p*cols) + 1&#93;\n"
"          docs_with_hits = array&#91;3 * (c + p*cols) + 2&#93;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1316
msgid "y"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1316
msgid "<i>cols</i> * <i>phrases</i>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1317
msgid ""
"<a name=\"matchinfo-y\"></a> For each distinct combination of a phrase and "
"table column, the number of usable phrase matches that appear in the column. "
"This is usually identical to the first value in each set of three returned "
"by the <a href=\"fts3.html#matchinfo-x\">matchinfo 'x' flag</a>. However, "
"the number of hits reported by the 'y' flag is zero for any phrase that is "
"part of a sub-expression that does not match the current row. This makes a "
"difference for expressions that contain AND operators that are descendants "
"of OR operators. For example, consider the expression:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><pre>
#: sedout/fts3.html:1328
#, no-wrap
msgid "          a OR (b AND c)\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1330
msgid "and the document:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><pre>
#: sedout/fts3.html:1332
#, no-wrap
msgid "          \"a c d\"\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1334
msgid ""
"The <a href=\"fts3.html#matchinfo-x\">matchinfo 'x' flag</a> would report a "
"single hit for the phrases \"a\" and \"c\".  However, the 'y' directive "
"reports the number of hits for \"c\" as zero, as it is part of a sub-"
"expression that does not match the document - (b AND c).  For queries that "
"do not contain AND operators descended from OR operators, the result values "
"returned by 'y' are always the same as those returned by 'x'."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><p>
#: sedout/fts3.html:1342
msgid ""
"The first value in the array of integer values corresponds to the leftmost "
"column of the table (column 0) and the first phrase in the query (phrase 0). "
"The values corresponding to other column/phrase combinations may be located "
"using the following formula:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><pre>
#: sedout/fts3.html:1348
#, no-wrap
msgid "          hits_for_phrase_p_column_c  = array&#91;c + p*cols&#93;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1350
msgid ""
"For queries that use OR expressions, or those that use LIMIT or return many "
"rows, the 'y' matchinfo option may be faster than 'x'."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1353
msgid "b"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1353
msgid "<i>((cols+31)/32)</i> * <i>phrases</i>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1354
msgid ""
"<a name=\"matchinfo-b\"></a> The matchinfo 'b' flag provides similar "
"information to the <a href=\"fts3.html#matchinfo-y\">matchinfo 'y' flag</a>, "
"but in a more compact form. Instead of the precise number of hits, 'b' "
"provides a single boolean flag for each phrase/column combination. If the "
"phrase is present in the column at least once (i.e. if the corresponding "
"integer output of 'y' would be non-zero), the corresponding flag is set. "
"Otherwise cleared."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><p>
#: sedout/fts3.html:1365
msgid ""
"If the table has 32 or fewer columns, a single unsigned integer is output "
"for each phrase in the query. The least significant bit of the integer is "
"set if the phrase appears at least once in column 0. The second least "
"significant bit is set if the phrase appears once or more in column 1. And "
"so on."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><p>
#: sedout/fts3.html:1371
msgid ""
"If the table has more than 32 columns, an extra integer is added to the "
"output of each phrase for each extra 32 columns or part thereof. Integers "
"corresponding to the same phrase are clumped together. For example, if a "
"table with 45 columns is queried for two phrases, 4 integers are output. The "
"first corresponds to phrase 0 and columns 0-31 of the table. The second "
"integer contains data for phrase 0 and columns 32-44, and so on."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><p>
#: sedout/fts3.html:1379
msgid ""
"For example, if nCol is the number of columns in the table, to determine if "
"phrase p is present in column c:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><pre>
#: sedout/fts3.html:1383
#, no-wrap
msgid "    p_is_in_c = array&#91;p * ((nCol+31)/32)&#93; & (1 &lt;&lt; (c % 32))\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1386
msgid "n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1386
msgid ""
"The number of rows in the FTS4 table. This value is only available when "
"querying FTS4 tables, not FTS3."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1388
msgid "a"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1388 sedout/fts3.html:1392 sedout/fts3.html:1398
msgid "<i>cols</i>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1388
msgid ""
"For each column, the average number of tokens in the text values stored in "
"the column (considering all rows in the FTS4 table). This value is only "
"available when querying FTS4 tables, not FTS3."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1392
msgid "l"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1393
msgid ""
"For each column, the length of the value stored in the current row of the "
"FTS4 table, in tokens.  This value is only available when querying FTS4 "
"tables, not FTS3. And only if the \"matchinfo=fts3\" directive was not "
"specified as part of the \"CREATE VIRTUAL TABLE\" statement used to create "
"the FTS4 table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1398
msgid "s"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1398
msgid ""
"For each column, the length of the longest subsequence of phrase matches "
"that the column value has in common with the query text. For example, if a "
"table column contains the text 'a b c d e' and the query is 'a c \"d e\"', "
"then the length of the longest common subsequence is 2 (phrase \"c\" "
"followed by phrase \"d e\")."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1408
msgid "For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1410
#, no-wrap
msgid ""
"<i>-- Create and populate an FTS4 table with two columns:</i>\n"
"CREATE VIRTUAL TABLE t1 USING fts4(a, b);\n"
"INSERT INTO t1 VALUES('transaction default models default', 'Non transaction reads');\n"
"INSERT INTO t1 VALUES('the default transaction', 'these semantics present');\n"
"INSERT INTO t1 VALUES('single request', 'default data');\n"
"\n"
"<i>-- In the following query, no format string is specified and so it defaults</i>\n"
"<i>-- to \"pcx\". It therefore returns a single row consisting of a single blob</i>\n"
"<i>-- value 80 bytes in size (20 32-bit integers - 1 for \"p\", 1 for \"c\" and</i>\n"
"<i>-- 3*2*3 for \"x\"). If each block of 4 bytes in</i> the blob is interpreted\n"
"<i>-- as an unsigned integer in machine byte-order, the values will be:</i>\n"
"<i>--</i>\n"
"<i>--     3 2  1 3 2  0 1 1  1 2 2  0 1 1  0 0 0  1 1 1</i>\n"
"<i>--</i>\n"
"<i>-- The row returned corresponds to the second entry inserted into table t1.</i>\n"
"<i>-- The first two integers in the blob show that the query contained three</i>\n"
"<i>-- phrases and the table being queried has two columns. The next block of</i>\n"
"<i>-- three integers describes column 0 (in this case column \"a\") and phrase</i>\n"
"<i>-- 0 (in this case \"default\"). The current row contains 1 hit for \"default\"</i>\n"
"<i>-- in column 0, of a total of 3 hits for \"default\" that occur in column</i>\n"
"<i>-- 0 of any table row. The 3 hits are spread across 2 different rows.</i>\n"
"<i>--</i>\n"
"<i>-- The next set of three integers (0 1 1) pertain to the hits for \"default\"</i>\n"
"<i>-- in column 1 of the table (0 in this row, 1 in all rows, spread across </i>\n"
"<i>-- 1 rows).</i>\n"
"<i>--</i>\n"
"SELECT matchinfo(t1) FROM t1 WHERE t1 MATCH 'default transaction \"these semantics\"';\n"
"\n"
"<i>-- The format string for this query is \"ns\". The output array will therefore</i>\n"
"<i>-- contain 3 integer values - 1 for \"n\" and 2 for \"s\". The query returns</i>\n"
"<i>-- two rows (the first two rows in the table match). The values returned are:</i>\n"
"<i>--</i>\n"
"<i>--     3  1 1</i>\n"
"<i>--     3  2 0</i>\n"
"<i>--</i>\n"
"<i>-- The first value in the matchinfo array returned for both rows is 3 (the </i>\n"
"<i>-- number of rows in the table). The following two values are the lengths </i>\n"
"<i>-- of the longest common subsequence of phrase matches in each column.</i>\n"
"SELECT matchinfo(t1, 'ns') FROM t1 WHERE t1 MATCH 'default transaction';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1452
msgid ""
"The matchinfo function is much faster than either the snippet or offsets "
"functions. This is because the implementation of both snippet and offsets is "
"required to retrieve the documents being analyzed from disk, whereas all "
"data required by matchinfo is available as part of the same portions of the "
"full-text index that are required to implement the full-text query itself. "
"This means that of the following two queries, the first may be an order of "
"magnitude faster than the second:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1460
#, no-wrap
msgid ""
"SELECT docid, matchinfo(tbl) FROM tbl WHERE tbl MATCH &lt;query expression&gt;;\n"
"SELECT docid, offsets(tbl) FROM tbl WHERE tbl MATCH &lt;query expression&gt;;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1465
msgid ""
"The matchinfo function provides all the information required to calculate "
"probabilistic \"bag-of-words\" relevancy scores such as <a href=\"http://en."
"wikipedia.org/wiki/Okapi_BM25\">Okapi BM25/BM25F</a> that may be used to "
"order results in a full-text search application. Appendix A of this "
"document, \"<a href=\"fts3.html#appendix_a\">search application tips</a>\", "
"contains an example of using the matchinfo() function efficiently."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1472
msgid "<a name=\"fts4aux\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h1>
#: sedout/fts3.html:1473
msgid "<span>5. </span>Fts4aux - Direct Access to the Full-Text Index"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1476
msgid ""
"As of <a href=\"releaselog/3_7_6.html\">version 3.7.6</a> (2011-04-12), "
"SQLite includes a new virtual table module called \"fts4aux\", which can be "
"used to inspect the full-text index of an existing FTS table directly. "
"Despite its name, fts4aux works just as well with FTS3 tables as it does "
"with FTS4 tables. Fts4aux tables are read-only. The only way to modify the "
"contents of an fts4aux table is by modifying the contents of the associated "
"FTS table. The fts4aux module is automatically included in all <a "
"href=\"fts3.html#compiling_and_enabling_fts3_and_fts4\">builds that include "
"FTS</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1486
msgid ""
"An fts4aux virtual table is constructed with one or two arguments.  When "
"used with a single argument, that argument is the unqualified name of the "
"FTS table that it will be used to access.  To access a table in a different "
"database (for example, to create a TEMP fts4aux table that will access an "
"FTS3 table in the MAIN database) use the two-argument form and give the name "
"of the target database (ex: \"main\") in the first argument and the name of "
"the FTS3/4 table as the second argument.  (The two-argument form of fts4aux "
"was added for SQLite <a href=\"releaselog/3_7_17.html\">version 3.7.17</a> "
"(2013-05-20)  and will throw an error in prior releases.)  For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1497
#, no-wrap
msgid ""
"<i>-- Create an FTS4 table</i>\n"
"CREATE VIRTUAL TABLE ft USING fts4(x, y);\n"
"\n"
"<i>-- Create an fts4aux table to access the full-text index for table \"ft\"</i>\n"
"CREATE VIRTUAL TABLE ft_terms USING fts4aux(ft);\n"
"\n"
"<i>-- Create a TEMP fts4aux table accessing the \"ft\" table in \"main\"</i>\n"
"CREATE VIRTUAL TABLE temp.ft_terms_2 USING fts4aux(main,ft);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1508
msgid ""
"For each term present in the FTS table, there are between 2 and N+1 rows in "
"the fts4aux table, where N is the number of user-defined columns in the "
"associated FTS table. An fts4aux table always has the same four columns, as "
"follows, from left to right:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1514
msgid "Column Name"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1514
msgid "Column Contents"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1515
msgid "term"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1516
msgid "Contains the text of the term for this row."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1517
msgid "col"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1518
msgid ""
"This column may contain either the text value '*' (i.e. a single character, "
"U+002a) or an integer between 0 and N-1, where N is again the number of user-"
"defined columns in the corresponding FTS table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1522
msgid "documents"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1523
msgid "This column always contains an integer value greater than zero."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><br><br>
#: sedout/fts3.html:1525
msgid ""
"If the \"col\" column contains the value '*', then this column contains the "
"number of rows of the FTS table that contain at least one instance of the "
"term (in any column). If col contains an integer value, then this column "
"contains the number of rows of the FTS table that contain at least one "
"instance of the term in the column identified by the col value. As usual, "
"the columns of the FTS table are numbered from left to right, starting with "
"zero."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1533
msgid "occurrences"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1534
msgid "This column also always contains an integer value greater than zero."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><br><br>
#: sedout/fts3.html:1536
msgid ""
"If the \"col\" column contains the value '*', then this column contains the "
"total number of instances of the term in all rows of the FTS table (in any "
"column). Otherwise, if col contains an integer value, then this column "
"contains the total number of instances of the term that appear in the FTS "
"table column identified by the col value."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1543
msgid "languageid <i>(hidden)</i>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1544
msgid ""
"<a name=\"f4alid\"></a> This column determines which <a href=\"fts3."
"html#*fts4languageid\">languageid</a> is used to extract vocabulary from the "
"FTS3/4 table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td><br><br>
#: sedout/fts3.html:1549
msgid ""
"The default value for languageid is 0.  If an alternative language is "
"specified in WHERE clause constraints, then that alternative is used instead "
"of 0.  There can only be a single languageid per query.  In other words, the "
"WHERE clause cannot contain a range constraint or IN operator on the "
"languageid."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1557
msgid "For example, using the tables created above:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1559
#, no-wrap
msgid ""
"INSERT INTO ft(x, y) VALUES('Apple banana', 'Cherry');\n"
"INSERT INTO ft(x, y) VALUES('Banana Date Date', 'cherry');\n"
"INSERT INTO ft(x, y) VALUES('Cherry Elderberry', 'Elderberry');\n"
"\n"
"<i>-- The following query returns this data:</i>\n"
"<i>--</i>\n"
"<i>--     apple       |  *  |  1  |  1</i>\n"
"<i>--     apple       |  0  |  1  |  1</i>\n"
"<i>--     banana      |  *  |  2  |  2</i>\n"
"<i>--     banana      |  0  |  2  |  2</i>\n"
"<i>--     cherry      |  *  |  3  |  3</i>\n"
"<i>--     cherry      |  0  |  1  |  1</i>\n"
"<i>--     cherry      |  1  |  2  |  2</i>\n"
"<i>--     date        |  *  |  1  |  2</i>\n"
"<i>--     date        |  0  |  1  |  2</i>\n"
"<i>--     elderberry  |  *  |  1  |  2</i>\n"
"<i>--     elderberry  |  0  |  1  |  1</i>\n"
"<i>--     elderberry  |  1  |  1  |  1</i>\n"
"<i>--</i>\n"
"SELECT term, col, documents, occurrences FROM ft_terms;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1582
msgid ""
"In the example, the values in the \"term\" column are all lower case, even "
"though they were inserted into table \"ft\" in mixed case. This is because "
"an fts4aux table contains the terms as extracted from the document text by "
"the <a href=\"fts3.html#tokenizer\">tokenizer</a>. In this case, since table "
"\"ft\" uses the <a href=\"fts3.html#tokenizer\">simple tokenizer</a>, this "
"means all terms have been folded to lower case. Also, there is (for example) "
"no row with column \"term\" set to \"apple\" and column \"col\" set to 1. "
"Since there are no instances of the term \"apple\" in column 1, no row is "
"present in the fts4aux table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1592
msgid ""
"During a transaction, some of the data written to an FTS table may be cached "
"in memory and written to the database only when the transaction is "
"committed. However the implementation of the fts4aux module is only able to "
"read data from the database. In practice this means that if an fts4aux table "
"is queried from within a transaction in which the associated FTS table has "
"been modified, the results of the query are likely to reflect only a "
"(possibly empty) subset of the changes made."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1600
msgid "<a name=\"fts4_options\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h1>
#: sedout/fts3.html:1601
msgid "<span>6. </span>FTS4 Options"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1604
msgid ""
"If the \"CREATE VIRTUAL TABLE\" statement specifies module FTS4 (not FTS3), "
"then special directives - FTS4 options - similar to the \"tokenize=*\" "
"option may also appear in place of column names. An FTS4 option consists of "
"the option name, followed by an \"=\" character, followed by the option "
"value.  The option value may optionally be enclosed in single or double "
"quotes, with embedded quote characters escaped in the same way as for SQL "
"literals. There may not be whitespace on either side of the \"=\" character. "
"For example, to create an FTS4 table with the value of option \"matchinfo\" "
"set to \"fts3\":"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1613
#, no-wrap
msgid ""
"<i>-- Create a reduced-footprint FTS4 table.</i>\n"
"CREATE VIRTUAL TABLE papers USING fts4(author, document, matchinfo=fts3);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1618
msgid "FTS4 currently supports the following options:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><th>
#: sedout/fts3.html:1621
msgid "Option"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1622
msgid "compress"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1623
msgid ""
"The compress option is used to specify the compress function. It is an error "
"to specify a compress function without also specifying an uncompress "
"function. <a href=\"fts3.html#the_compress_and_uncompress_options\">See "
"below</a> for details."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1627
msgid "content"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1628
msgid ""
"The content allows the text being indexed to be stored in a separate table "
"distinct from the FTS4 table, or even outside of SQLite."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1632
msgid "languageid"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1633
msgid ""
"The languageid option causes the FTS4 table to have an additional hidden "
"integer column that identifies the language of the text contained in each "
"row.  The use of the languageid option allows the same FTS4 table to hold "
"text in multiple languages or scripts, each with different tokenizer rules, "
"and to query each language independently of the others."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1639
msgid "matchinfo"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1640
msgid ""
"When set to the value \"fts3\", the matchinfo option reduces the amount of "
"information stored by FTS4 with the consequence that the \"l\" option of <a "
"href=\"fts3.html#matchinfo\">matchinfo()</a> is no longer available."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1644
msgid "notindexed"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1645
msgid ""
"This option is used to specify the name of a column for which data is not "
"indexed. Values stored in columns that are not indexed are not matched by "
"MATCH queries. Nor are they recognized by auxiliary functions.  A single "
"CREATE VIRTUAL TABLE statement may have any number of notindexed options."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1651
msgid "order"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1652
msgid ""
"<a name=\"fts4order\"></a> The \"order\" option may be set to either "
"\"DESC\" or \"ASC\" (in upper or lower case). If it is set to \"DESC\", then "
"FTS4 stores its data in such a way as to optimize returning results in "
"descending order by docid.  If it is set to \"ASC\" (the default), then the "
"data structures are optimized for returning results in ascending order by "
"docid.  In other words, if many of the queries run against the FTS4 table "
"use \"ORDER BY docid DESC\", then it may improve performance to add the "
"\"order=desc\" option to the CREATE VIRTUAL TABLE statement."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1663
msgid "prefix"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1664
msgid ""
"This option may be set to a comma-separated list of positive non-zero "
"integers. For each integer N in the list, a separate index is created in the "
"database file to optimize <a href=\"fts3.html#termprefix\">prefix queries</"
"a> where the query term is N bytes in length, not including the '*' "
"character, when encoded using UTF-8. <a href=\"fts3."
"html#the_prefix_option\">See below</a> for details."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1670
msgid "uncompress"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><table><tr><td>
#: sedout/fts3.html:1671
msgid ""
"This option is used to specify the uncompress function. It is an error to "
"specify an uncompress function without also specifying a compress function. "
"<a href=\"fts3.html#the_compress_and_uncompress_options\">See below</a> for "
"details."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1677
msgid ""
"When using FTS4, specifying a column name that contains an \"=\" character "
"and is not either a \"tokenize=*\" specification or a recognized FTS4 option "
"is an error. With FTS3, the first token in the unrecognized directive is "
"interpreted as a column name. Similarly, specifying multiple \"tokenize=*\" "
"directives in a single table declaration is an error when using FTS4, "
"whereas the second and subsequent \"tokenize=*\" directives are interpreted "
"as column names by FTS3. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1685
#, no-wrap
msgid ""
"<i>-- An error. FTS4 does not recognize the directive \"xyz=abc\".</i>\n"
"CREATE VIRTUAL TABLE papers USING fts4(author, document, xyz=abc);\n"
"\n"
"<i>-- Create an FTS3 table with three columns - \"author\", \"document\"</i>\n"
"<i>-- and \"xyz\".</i>\n"
"CREATE VIRTUAL TABLE papers USING fts3(author, document, xyz=abc);\n"
"\n"
"<i>-- An error. FTS4 does not allow multiple tokenize=* directives</i>\n"
"CREATE VIRTUAL TABLE papers USING fts4(tokenize=porter, tokenize=simple);\n"
"\n"
"<i>-- Create an FTS3 table with a single column named \"tokenize\". The</i>\n"
"<i>-- table uses the \"porter\" tokenizer.</i>\n"
"CREATE VIRTUAL TABLE papers USING fts3(tokenize=porter, tokenize=simple);\n"
"\n"
"<i>-- An error. Cannot create a table with two columns named \"tokenize\".</i>\n"
"CREATE VIRTUAL TABLE papers USING fts3(tokenize=porter, tokenize=simple, tokenize=icu);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1703
msgid ""
"<a name=\"*fts4compression\"></a> <a "
"name=\"the_compress_and_uncompress_options\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h2>
#: sedout/fts3.html:1706
msgid "<span>6.1. </span>The compress= and uncompress= options"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1709
msgid ""
"The compress and uncompress options allow FTS4 content to be stored in the "
"database in a compressed form. Both options should be set to the name of an "
"SQL scalar function registered using <a href=\"c3ref/create_function."
"html\">sqlite3_create_function()</a> that accepts a single argument."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1715
msgid ""
"The compress function should return a compressed version of the value passed "
"to it as an argument. Each time data is written to the FTS4 table, each "
"column value is passed to the compress function and the result value stored "
"in the database. The compress function may return any type of SQLite value "
"(blob, text, real, integer or null)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1722
msgid ""
"The uncompress function should uncompress data previously compressed by the "
"compress function. In other words, for all SQLite values X, it should be "
"true that uncompress(compress(X)) equals X. When data that has been "
"compressed by the compress function is read from the database by FTS4, it is "
"passed to the uncompress function before it is used."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1729
msgid ""
"If the specified compress or uncompress functions do not exist, the table "
"may still be created. An error is not returned until the FTS4 table is read "
"(if the uncompress function does not exist) or written (if it is the "
"compress function that does not exist)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1734
#, no-wrap
msgid ""
"<i>-- Create an FTS4 table that stores data in compressed form. This</i>\n"
"<i>-- assumes that the scalar functions zip() and unzip() have been (or</i>\n"
"<i>-- will be) added to the database handle.</i>\n"
"CREATE VIRTUAL TABLE papers USING fts4(author, document, compress=zip, uncompress=unzip);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1741
msgid ""
"When implementing the compress and uncompress functions it is important to "
"pay attention to data types. Specifically, when a user reads a value from a "
"compressed FTS table, the value returned by FTS is exactly the same as the "
"value returned by the uncompress function, including the data type.  If that "
"data type is not the same as the data type of the original value as passed "
"to the compress function (for example if the uncompress function is "
"returning BLOB when compress was originally passed TEXT), then the users "
"query may not function as expected.  <a name=\"*fts4content\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1752
msgid "<a name=\"the_content_option_\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h2>
#: sedout/fts3.html:1753
msgid "<span>6.2. </span>The content= option"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1756
msgid ""
"The content option allows FTS4 to forego storing the text being indexed.  "
"The content option can be used in two ways:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ul><li>
#: sedout/fts3.html:1760
msgid ""
"The indexed documents are not stored within the SQLite database at all (a "
"\"contentless\" FTS4 table), or"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ul><li>
#: sedout/fts3.html:1763
msgid ""
"The indexed documents are stored in a database table created and managed by "
"the user (an \"external content\" FTS4 table)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1768
msgid ""
"Because the indexed documents themselves are usually much larger than the "
"full-text index, the content option can be used to achieve significant space "
"savings."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1772
msgid "<a name=\"_contentless_fts4_tables_\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><h3>
#: sedout/fts3.html:1773
msgid "<span>6.2.1. </span> Contentless FTS4 Tables"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1776
msgid ""
"In order to create an FTS4 table that does not store a copy of the indexed "
"documents at all, the content option should be set to an empty string.  For "
"example, the following SQL creates such an FTS4 table with three columns - "
"\"a\", \"b\", and \"c\":"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1781
#, no-wrap
msgid "CREATE VIRTUAL TABLE t1 USING fts4(content=\"\", a, b, c);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1785
msgid ""
"Data can be inserted into such an FTS4 table using an INSERT statements.  "
"However, unlike ordinary FTS4 tables, the user must supply an explicit "
"integer docid value. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1789
#, no-wrap
msgid ""
"<i>-- This statement is Ok:</i>\n"
"INSERT INTO t1(docid, a, b, c) VALUES(1, 'a b c', 'd e f', 'g h i');\n"
"\n"
"<i>-- This statement causes an error, as no docid value has been provided:</i>\n"
"INSERT INTO t1(a, b, c) VALUES('j k l', 'm n o', 'p q r');\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1797
msgid ""
"It is not possible to UPDATE or DELETE a row stored in a contentless FTS4 "
"table. Attempting to do so is an error."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1801
msgid ""
"Contentless FTS4 tables also support SELECT statements. However, it is an "
"error to attempt to retrieve the value of any table column other than the "
"docid column. The auxiliary function matchinfo() may be used, but snippet() "
"and offsets() may not. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1806
#, no-wrap
msgid ""
"<i>-- The following statements are Ok:</i>\n"
"SELECT docid FROM t1 WHERE t1 MATCH 'xxx';\n"
"SELECT docid FROM t1 WHERE a MATCH 'xxx';\n"
"SELECT matchinfo(t1) FROM t1 WHERE t1 MATCH 'xxx';\n"
"\n"
"<i>-- The following statements all cause errors, as the value of columns</i>\n"
"<i>-- other than docid are required to evaluate them.</i>\n"
"SELECT * FROM t1;\n"
"SELECT a, b FROM t1 WHERE t1 MATCH 'xxx';\n"
"SELECT docid FROM t1 WHERE a LIKE 'xxx%';\n"
"SELECT snippet(t1) FROM t1 WHERE t1 MATCH 'xxx';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1820
msgid ""
"Errors related to attempting to retrieve column values other than docid are "
"runtime errors that occur within sqlite3_step(). In some cases, for example "
"if the MATCH expression in a SELECT query matches zero rows, there may be no "
"error at all even if a statement does refer to column values other than "
"docid."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1826
msgid "<a name=\"_external_content_fts4_tables_\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><h3>
#: sedout/fts3.html:1827
msgid "<span>6.2.2. </span> External Content FTS4 Tables"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1830
msgid ""
"An \"external content\" FTS4 table is similar to a contentless table, except "
"that if evaluation of a query requires the value of a column other than "
"docid, FTS4 attempts to retrieve that value from a table (or view, or "
"virtual table) nominated by the user (hereafter referred to as the \"content "
"table\"). The FTS4 module never writes to the content table, and writing to "
"the content table does not affect the full-text index. It is the "
"responsibility of the user to ensure that the content table and the full-"
"text index are consistent."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1840
msgid ""
"An external content FTS4 table is created by setting the content option to "
"the name of a table (or view, or virtual table) that may be queried by FTS4 "
"to retrieve column values when required. If the nominated table does not "
"exist, then an external content table behaves in the same way as a "
"contentless table. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1846
#, no-wrap
msgid ""
"CREATE TABLE t2(id INTEGER PRIMARY KEY, a, b, c);\n"
"CREATE VIRTUAL TABLE t3 USING fts4(content=\"t2\", a, c);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1851
msgid ""
"Assuming the nominated table does exist, then its columns must be the same "
"as or a superset of those defined for the FTS table.  The external table "
"must also be in the same database file as the FTS table.  In other words, "
"The external table cannot be in a different database file connected using <a "
"href=\"lang_attach.html\">ATTACH</a> nor may one of the FTS table and the "
"external content be in the TEMP database when the other is in a persistent "
"database file such as MAIN."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1859
msgid ""
"When a users query on the FTS table requires a column value other than "
"docid, FTS attempts to read the requested value from the corresponding "
"column of the row in the content table with a rowid value equal to the "
"current FTS docid. Only the subset of content-table columns duplicated in "
"the FTS/34 table declaration can be queried for - to retrieve values from "
"any other columns the content table must be queried directly. Or, if such a "
"row cannot be found in the content table, a NULL value is used instead. For "
"example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1867
#, no-wrap
msgid ""
"CREATE TABLE t2(id INTEGER PRIMARY KEY, a, b, c);\n"
"CREATE VIRTUAL TABLE t3 USING fts4(content=\"t2\", b, c);\n"
"\n"
"INSERT INTO t2 VALUES(2, 'a b', 'c d', 'e f');\n"
"INSERT INTO t2 VALUES(3, 'g h', 'i j', 'k l');\n"
"INSERT INTO t3(docid, b, c) SELECT id, b, c FROM t2;\n"
"<i>-- The following query returns a single row with two columns containing\n"
"-- the text values \"i j\" and \"k l\".\n"
"--\n"
"-- The query uses the full-text index to discover that the MATCH\n"
"-- term matches the row with docid=3. It then retrieves the values\n"
"-- of columns b and c from the row with rowid=3 in the content table\n"
"-- to return.\n"
"--</i>\n"
"SELECT * FROM t3 WHERE t3 MATCH 'k';\n"
"\n"
"<i>-- Following the UPDATE, the query still returns a single row, this\n"
"-- time containing the text values \"xxx\" and \"yyy\". This is because the\n"
"-- full-text index still indicates that the row with docid=3 matches\n"
"-- the FTS4 query 'k', even though the documents stored in the content\n"
"-- table have been modified.\n"
"--</i>\n"
"UPDATE t2 SET b = 'xxx', c = 'yyy' WHERE rowid = 3;\n"
"SELECT * FROM t3 WHERE t3 MATCH 'k';\n"
"\n"
"<i>-- Following the DELETE below, the query returns one row containing two\n"
"-- NULL values. NULL values are returned because FTS is unable to find\n"
"-- a row with rowid=3 within the content table.\n"
"--</i>\n"
"DELETE FROM t2;\n"
"SELECT * FROM t3 WHERE t3 MATCH 'k';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1901
msgid ""
"When a row is deleted from an external content FTS4 table, FTS4 needs to "
"retrieve the column values of the row being deleted from the content table.  "
"This is so that FTS4 can update the full-text index entries for each token "
"that occurs within the deleted row to indicate that row has been deleted. If "
"the content table row cannot be found, or if it contains values inconsistent "
"with the contents of the FTS index, the results can be difficult to predict. "
"The FTS index may be left containing entries corresponding to the deleted "
"row, which can lead to seemingly nonsensical results being returned by "
"subsequent SELECT queries. The same applies when a row is updated, as "
"internally an UPDATE is the same as a DELETE followed by an INSERT."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1913
msgid ""
"This means that in order to keep an FTS in sync with an external content "
"table, any UPDATE or DELETE operations must be applied first to the FTS "
"table, and then to the external content table. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1917
#, no-wrap
msgid ""
"CREATE TABLE t1_real(id INTEGER PRIMARY KEY, a, b, c, d);\n"
"CREATE VIRTUAL TABLE t1_fts USING fts4(content=\"t1_real\", b, c);\n"
"\n"
"<i>-- This works. When the row is removed from the FTS table, FTS retrieves\n"
"-- the row with rowid=123 and tokenizes it in order to determine the entries\n"
"-- that must be removed from the full-text index.\n"
"--</i>\n"
"DELETE FROM t1_fts WHERE rowid = 123;\n"
"DELETE FROM t1_real WHERE rowid = 123;\n"
"\n"
"--<i> This <b>does not work</b>. By the time the FTS table is updated, the row\n"
"-- has already been deleted from the underlying content table. As a result\n"
"-- FTS is unable to determine the entries to remove from the FTS index and\n"
"-- so the index and content table are left out of sync.\n"
"--</i>\n"
"DELETE FROM t1_real WHERE rowid = 123;\n"
"DELETE FROM t1_fts WHERE rowid = 123;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1937
msgid ""
"Instead of writing separately to the full-text index and the content table, "
"some users may wish to use database triggers to keep the full-text index up "
"to date with respect to the set of documents stored in the content table.  "
"For example, using the tables from earlier examples:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1942
#, no-wrap
msgid ""
"CREATE TRIGGER t2_bu BEFORE UPDATE ON t2 BEGIN\n"
"  DELETE FROM t3 WHERE docid=old.rowid;\n"
"END;\n"
"CREATE TRIGGER t2_bd BEFORE DELETE ON t2 BEGIN\n"
"  DELETE FROM t3 WHERE docid=old.rowid;\n"
"END;\n"
"\n"
"CREATE TRIGGER t2_au AFTER UPDATE ON t2 BEGIN\n"
"  INSERT INTO t3(docid, b, c) VALUES(new.rowid, new.b, new.c);\n"
"END;\n"
"CREATE TRIGGER t2_ai AFTER INSERT ON t2 BEGIN\n"
"  INSERT INTO t3(docid, b, c) VALUES(new.rowid, new.b, new.c);\n"
"END;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1958
msgid ""
"The DELETE trigger must be fired before the actual delete takes place on the "
"content table. This is so that FTS4 can still retrieve the original values "
"in order to update the full-text index. And the INSERT trigger must be fired "
"after the new row is inserted, so as to handle the case where the rowid is "
"assigned automatically within the system. The UPDATE trigger must be split "
"into two parts, one fired before and one after the update of the content "
"table, for the same reasons."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1967
msgid ""
"The <a href=\"fts3.html#*fts4rebuidcmd\">FTS4 \"rebuild\" command</a> "
"deletes the entire full-text index and rebuilds it based on the current set "
"of documents in the content table. Assuming again that \"t3\" is the name of "
"the external content FTS4 table, the rebuild command looks like this:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1972
#, no-wrap
msgid "INSERT INTO t3(t3) VALUES('rebuild');\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1976
msgid ""
"This command may also be used with ordinary FTS4 tables, for example if the "
"implementation of the tokenizer changes.  It is an error to attempt to "
"rebuild the full-text index maintained by a contentless FTS4 table, since no "
"content will be available to do the rebuilding.  <a "
"name=\"*fts4languageid\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1984
msgid "<a name=\"the_languageid_option\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><h2>
#: sedout/fts3.html:1985
msgid "<span>6.3. </span>The languageid= option"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1988
msgid ""
"When the languageid option is present, it specifies the name of another <a "
"href=\"vtab.html#hiddencol\">hidden column</a> that is added to the FTS4 "
"table and which is used to specify the language stored in each row of the "
"FTS4 table.  The name of the languageid hidden column must be distinct from "
"all other column names in the FTS4 table.  Example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:1994
#, no-wrap
msgid "CREATE VIRTUAL TABLE t1 USING fts4(x, y, languageid=\"lid\")\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:1998
msgid ""
"The default value of a languageid column is 0. Any value inserted into a "
"languageid column is converted to a 32-bit (not 64) signed integer."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:2003
msgid ""
"By default, FTS queries (those that use the MATCH operator)  consider only "
"those rows with the languageid column set to 0. To query for rows with other "
"languageid values, a constraint of the form \""
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id>
#: sedout/fts3.html:2006
msgid "="
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer>
#: sedout/fts3.html:2006
msgid "\" must be added to the queries WHERE clause. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><div><pre>
#: sedout/fts3.html:2009
#, no-wrap
msgid "SELECT * FROM t1 WHERE t1 MATCH 'abc' AND lid=5;\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2013
msgid ""
"It is not possible for a single FTS query to return rows with different "
"languageid values. The results of adding WHERE clauses that use other "
"operators (e.g.  lid!=5, or lid&lt;=5) are undefined."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2018
msgid ""
"If the content option is used along with the languageid option, then the "
"named languageid column must exist in the content= table (subject to the "
"usual rules - if a query never needs to read the content table then this "
"restriction does not apply)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2024
msgid ""
"When the languageid option is used, SQLite invokes the xLanguageid()  on the "
"sqlite3_tokenizer_module object immediately after the object is created in "
"order to pass in the language id that the tokenizer should use.  The "
"xLanguageid() method will never be called more than once for any single "
"tokenizer object.  The fact that different languages might be tokenized "
"differently is one reason why no single FTS query can return rows with "
"different languageid values.  <a name=\"fts4matchinfo\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer>
#: sedout/fts3.html:2036
msgid "<a name=\"the_matchinfo_option\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><h2>
#: sedout/fts3.html:2037
msgid "<span>6.4. </span>The matchinfo= option"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2040
msgid ""
"The matchinfo option may only be set to the value \"fts3\".  Attempting to "
"set matchinfo to anything other than \"fts3\" is an error.  If this option "
"is specified, then some of the extra information stored by FTS4 is omitted. "
"This reduces the amount of disk space consumed by an FTS4 table until it is "
"almost the same as the amount that would be used by the equivalent FTS3 "
"table, but also means that the data accessed by passing the 'l' flag to the "
"<a href=\"fts3.html#matchinfo\">matchinfo()</a> function is not available.  "
"<a name=\"fts4notindexed\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer>
#: sedout/fts3.html:2051
msgid "<a name=\"the_notindexed_option\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><h2>
#: sedout/fts3.html:2052
msgid "<span>6.5. </span>The notindexed= option"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2055
msgid ""
"Normally, the FTS module maintains an inverted index of all terms in all "
"columns of the table. This option is used to specify the name of a column "
"for which entries should not be added to the index. Multiple \"notindexed\" "
"options may be used to specify that multiple columns should be omitted from "
"the index. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><div><pre>
#: sedout/fts3.html:2061
#, no-wrap
msgid ""
"<i>-- Create an FTS4 table for which only the contents of columns c2 and c4</i>\n"
"<i>-- are tokenized and added to the inverted index.</i>\n"
"CREATE VIRTUAL TABLE t1 USING fts4(c1, c2, c3, c4, notindexed=c1, notindexed=c3);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2067
msgid ""
"Values stored in unindexed columns are not eligible to match MATCH "
"operators. They do not influence the results of the offsets() or "
"matchinfo()  auxiliary functions. Nor will the snippet() function ever "
"return a snippet based on a value stored in an unindexed column.  <a "
"name=\"fts4prefix\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer>
#: sedout/fts3.html:2074
msgid "<a name=\"the_prefix_option\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><h2>
#: sedout/fts3.html:2075
msgid "<span>6.6. </span>The prefix= option"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2078
msgid ""
"The FTS4 prefix option causes FTS to index term prefixes of specified "
"lengths in the same way that it always indexes complete terms.  The prefix "
"option must be set to a comma separated list of positive non-zero integers.  "
"For each value N in the list, prefixes of length N bytes (when encoded using "
"UTF-8) are indexed.  FTS4 uses term prefix indexes to speed up <a "
"href=\"fts3.html#termprefix\">prefix queries</a>. The cost, of course, is "
"that indexing term prefixes as well as complete terms increases the database "
"size and slows down write operations on the FTS4 table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2088
msgid ""
"Prefix indexes may be used to optimize <a href=\"fts3."
"html#termprefix\">prefix queries</a> in two cases.  If the query is for a "
"prefix of N bytes, then a prefix index created with \"prefix=N\" provides "
"the best optimization. Or, if no \"prefix=N\" index is available, a "
"\"prefix=N+1\" index may be used instead.  Using a \"prefix=N+1\" index is "
"less efficient than a \"prefix=N\" index, but is better than no prefix index "
"at all."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><div><pre>
#: sedout/fts3.html:2095
#, no-wrap
msgid ""
"<i>-- Create an FTS4 table with indexes to optimize 2 and 4 byte prefix queries.</i>\n"
"CREATE VIRTUAL TABLE t1 USING fts4(c1, c2, prefix=\"2,4\");\n"
"\n"
"<i>-- The following two queries are both optimized using the prefix indexes.</i>\n"
"SELECT * FROM t1 WHERE t1 MATCH 'ab*';\n"
"SELECT * FROM t1 WHERE t1 MATCH 'abcd*';\n"
"\n"
"<i>-- The following two queries are both partially optimized using the prefix</i>\n"
"<i>-- indexes. The optimization is not as pronounced as it is for the queries</i>\n"
"<i>-- above, but still an improvement over no prefix indexes at all.</i>\n"
"SELECT * FROM t1 WHERE t1 MATCH 'a*';\n"
"SELECT * FROM t1 WHERE t1 MATCH 'abc*';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer>
#: sedout/fts3.html:2109
msgid "<a name=\"*cmds\"></a> <a name=\"commands\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><h1>
#: sedout/fts3.html:2112
msgid "<span>7. </span>Special Commands For FTS3 and FTS4"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2115
msgid ""
"Special INSERT operates can be used to issue commands to FTS3 and FTS4 "
"tables.  Every FTS3 and FTS4 has a hidden, read-only column which is the "
"same name as the table itself.  INSERTs into this hidden column are "
"interpreted as commands to the FTS3/4 table.  For a table with the name "
"\"xyz\" the following commands are supported:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><ul><li>
#: sedout/fts3.html:2122
msgid "INSERT INTO xyz(xyz) VALUES('optimize');"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><ul><li>
#: sedout/fts3.html:2123
msgid "INSERT INTO xyz(xyz) VALUES('rebuild');"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><ul><li>
#: sedout/fts3.html:2124
msgid "INSERT INTO xyz(xyz) VALUES('integrity-check');"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><ul><li>
#: sedout/fts3.html:2125
msgid "INSERT INTO xyz(xyz) VALUES('merge=X,Y');"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><ul><li>
#: sedout/fts3.html:2126
msgid "INSERT INTO xyz(xyz) VALUES('automerge=N');"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p>
#: sedout/fts3.html:2129
msgid "<a name=\"*fts4optcmd\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><h2>
#: sedout/fts3.html:2131
msgid "<span>7.1. </span>The \"optimize\" command"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2134
msgid ""
"The \"optimize\" command causes FTS3/4 to merge together all of its inverted "
"index b-trees into one large and complete b-tree.  Doing an optimize will "
"make subsequent queries run faster since there are fewer b-trees to search, "
"and it may reduce disk usage by coalescing redundant entries.  However, for "
"a large FTS table, running optimize can be as expensive as running <a "
"href=\"lang_vacuum.html\">VACUUM</a>.  The optimize command essentially has "
"to read and write the entire FTS table, resulting in a large transaction."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2144
msgid ""
"In batch-mode operation, where an FTS table is initially built up using a "
"large number of INSERT operations, then queried repeatedly without further "
"changes, it is often a good idea to run \"optimize\" after the last INSERT "
"and before the first query.  <a name=\"*fts4rebuidcmd\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><h2>
#: sedout/fts3.html:2151
msgid "<span>7.2. </span>The \"rebuild\" command"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2154
msgid ""
"The \"rebuild\" command causes SQLite to discard the entire FTS3/4 table and "
"then rebuild it again from original text.  The concept is similar to <a "
"href=\"lang_reindex.html\">REINDEX</a>, only that it applies to an FTS3/4 "
"table instead of an ordinary index."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2160
msgid ""
"The \"rebuild\" command should be run whenever the implementation of a "
"custom tokenizer changes, so that all content can be retokenized.  The "
"\"rebuild\" command is also useful when using the <a href=\"fts3."
"html#*fts4content\">FTS4 content option</a> after changes have been made to "
"the original content table.  <a name=\"*fts4ickcmd\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><h2>
#: sedout/fts3.html:2168
msgid "<span>7.3. </span>The \"integrity-check\" command"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2171
msgid ""
"The \"integrity-check\" command causes SQLite to read and verify the "
"accuracy of all inverted indices in an FTS3/4 table by comparing those "
"inverted indices against the original content. The \"integrity-check\" "
"command silently succeeds if the inverted indices are all ok, but will fail "
"with an SQLITE_CORRUPT error if any problems are found."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2179
msgid ""
"The \"integrity-check\" command is similar in concept to <a href=\"pragma."
"html#pragma_integrity_check\">PRAGMA integrity_check</a>.  In a working "
"system, the \"integrity-command\" should always be successful.  Possible "
"causes of integrity-check failures include:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><ul><li>
#: sedout/fts3.html:2184
msgid ""
"The application has made changes to the <a href=\"fts3.html#*shadowtab\">FTS "
"shadow tables</a> directly, without using the FTS3/4 virtual table, causing "
"the shadow tables to become out of sync with each other."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><ul><li>
#: sedout/fts3.html:2187
msgid ""
"Using the <a href=\"fts3.html#*fts4content\">FTS4 content option</a> and "
"failing to manually keep the content in sync with the FTS4 inverted indices."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><ul><li>
#: sedout/fts3.html:2189
msgid ""
"Bugs in the FTS3/4 virtual table.  (The \"integrity-check\" command was "
"original conceived as part of the test suite for FTS3/4.)"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><ul><li>
#: sedout/fts3.html:2192
msgid ""
"Corruption to the underlying SQLite database file.  (See documentation on <a "
"href=\"howtocorrupt.html\">how to corrupt</a> and SQLite database for "
"additional information.)"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2197
msgid "<a name=\"*fts4mergecmd\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><h2>
#: sedout/fts3.html:2199
msgid "<span>7.4. </span>The \"merge=X,Y\" command"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2202
msgid ""
"The \"merge=X,Y\" command (where X and Y are integers) causes SQLite to do a "
"limited amount of work toward merging the various inverted index b-trees of "
"an FTS3/4 table together into one large b-tree.  The X value is the target "
"number of \"blocks\" to be merged, and Y is the minimum number of b-tree "
"segments on a level required before merging will be applied to that level.  "
"The value of Y should be between 2 and 16 with a recommended value of 8.  "
"The value of X can be any positive integer but values on the order of 100 to "
"300 are recommended."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2213
msgid ""
"When an FTS table accumulates 16 b-tree segments at the same level, the next "
"INSERT into that table will cause all 16 segments to be merged into a single "
"b-tree segment at the next higher level.  The effect of these level merges "
"is that most INSERTs into an FTS table are very fast and take minimal "
"memory, but an occasional INSERT is slow and generates a large transaction "
"because of the need to do merging. This results in \"spiky\" performance of "
"INSERTs."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2222
msgid ""
"To avoid spiky INSERT performance, an application can run the \"merge=X,Y\" "
"command periodically, possibly in an idle thread or idle process, to ensure "
"that the FTS table never accumulates too many b-tree segments at the same "
"level.  INSERT performance spikes can generally be avoided, and performance "
"of FTS3/4 can be maximized, by running \"merge=X,Y\" after every few "
"thousand document inserts.  Each \"merge=X,Y\" command will run in a "
"separate transaction (unless they are grouped together using <a "
"href=\"lang_transaction.html\">BEGIN</a>...<a href=\"lang_transaction."
"html\">COMMIT</a>, of course).  The transactions can be kept small by "
"choosing a value for X in the range of 100 to 300.  The idle thread that is "
"running the merge commands can know when it is done by checking the "
"difference in <a href=\"c3ref/total_changes.html\">sqlite3_total_changes()</"
"a> before and after each \"merge=X,Y\" command and stopping the loop when "
"the difference drops below two.  <a name=\"*fts4automergecmd\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><h2>
#: sedout/fts3.html:2238
msgid "<span>7.5. </span>The \"automerge=N\" command"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2241
msgid ""
"The \"automerge=N\" command (where N is an integer between 0 and 15, "
"inclusive) is used to configure an FTS3/4 tables \"automerge\" parameter, "
"which controls automatic incremental inverted index merging. The default "
"automerge value for new tables is 0, meaning that automatic incremental "
"merging is completely disabled. If the value of the automerge parameter is "
"modified using the \"automerge=N\" command, the new parameter value is "
"stored persistently in the database and is used by all subsequently "
"established database connections."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2251
msgid ""
"Setting the automerge parameter to a non-zero value enables automatic "
"incremental merging. This causes SQLite to do a small amount of inverted "
"index merging after every INSERT operation. The amount of merging performed "
"is designed so that the FTS3/4 table never reaches a point where it has 16 "
"segments at the same level and hence has to do a large merge in order to "
"complete an insert.  In other words, automatic incremental merging is "
"designed to prevent spiky INSERT performance."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2260
msgid ""
"The downside of automatic incremental merging is that it makes every INSERT, "
"UPDATE, and DELETE operation on an FTS3/4 table run a little slower, since "
"extra time must be used to do the incremental merge.  For maximum "
"performance, it is recommended that applications disable automatic "
"incremental merge and instead use the <a href=\"fts3."
"html#*fts4mergecmd\">\"merge\" command</a> in an idle process to keep the "
"inverted indices well merged.  But if the structure of an application does "
"not easily allow for idle processes, the use of automatic incremental merge "
"is a very reasonable fallback solution."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2271
msgid ""
"The actual value of the automerge parameter determines the number of index "
"segments merged simultaneously by an automatic inverted index merge. If the "
"value is set to N, the system waits until there are at least N segments on a "
"single level before beginning to incrementally merge them. Setting a lower "
"value of N causes segments to be merged more quickly, which may speed up "
"full-text queries and, if the workload contains UPDATE or DELETE operations "
"as well as INSERTs, reduce the space on disk consumed by the full-text "
"index. However, it also increases the amount of data written to disk."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2282
msgid ""
"For general use in cases where the workload contains few UPDATE or DELETE "
"operations, a good choice for automerge is 8. If the workload contains many "
"UPDATE or DELETE commands, or if query speed is a concern, it may be "
"advantageous to reduce automerge to 2."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2289
msgid ""
"For reasons of backwards compatibility, the \"automerge=1\" command sets the "
"automerge parameter to 8, not 1 (a value of 1 would make no sense anyway, as "
"merging data from a single segment is a no-op)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p>
#: sedout/fts3.html:2294
msgid "<a name=\"tokenizer\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><h1>
#: sedout/fts3.html:2295
msgid "<span>8. </span>Tokenizers"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2298
msgid ""
"An FTS tokenizer is a set of rules for extracting terms from a document or "
"basic FTS full-text query."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2302
msgid ""
"Unless a specific tokenizer is specified as part of the CREATE VIRTUAL TABLE "
"statement used to create the FTS table, the default tokenizer, \"simple\", "
"is used. The simple tokenizer extracts tokens from a document or basic FTS "
"full-text query according to the following rules:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><ul><li>
#: sedout/fts3.html:2309
msgid ""
"A term is a contiguous sequence of eligible characters, where eligible "
"characters are all alphanumeric characters and all characters with Unicode "
"codepoint values greater than or equal to 128.  All other characters are "
"discarded when splitting a document into terms. Their only contribution is "
"to separate adjacent terms."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><ul><li>
#: sedout/fts3.html:2316
msgid ""
"All uppercase characters within the ASCII range (Unicode codepoints less "
"than 128), are transformed to their lowercase equivalents as part of the "
"tokenization process. Thus, full-text queries are case-insensitive when "
"using the simple tokenizer."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2323
msgid ""
"For example, when a document containing the text \"Right now, they're very "
"frustrated.\", the terms extracted from the document and added to the full-"
"text index are, in order, \"right now they re very frustrated\". Such a "
"document would match a full-text query such as \"MATCH 'Frustrated'\", as "
"the simple tokenizer transforms the term in the query to lowercase before "
"searching the full-text index."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2331
msgid ""
"As well as the \"simple\" tokenizer, the FTS source code features a "
"tokenizer that uses the <a href=\"http://tartarus.org/~martin/PorterStemmer/"
"\">Porter Stemming algorithm</a>. This tokenizer uses the same rules to "
"separate the input document into terms including folding all terms into "
"lower case, but also uses the Porter Stemming algorithm to reduce related "
"English language words to a common root. For example, using the same input "
"document as in the paragraph above, the porter tokenizer extracts the "
"following tokens: \"right now thei veri frustrat\". Even though some of "
"these terms are not even English words, in some cases using them to build "
"the full-text index is more useful than the more intelligible output "
"produced by the simple tokenizer.  Using the porter tokenizer, the document "
"not only matches full-text queries such as \"MATCH 'Frustrated'\", but also "
"queries such as \"MATCH 'Frustration'\", as the term \"Frustration\" is "
"reduced by the Porter stemmer algorithm to \"frustrat\" - just as "
"\"Frustrated\" is. So, when using the porter tokenizer, FTS is able to find "
"not just exact matches for queried terms, but matches against similar "
"English language terms. For more information on the Porter Stemmer "
"algorithm, please refer to the page linked above."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2350
msgid ""
"Example illustrating the difference between the \"simple\" and \"porter\" "
"tokenizers:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2353
#, no-wrap
msgid ""
"<i>-- Create a table using the simple tokenizer. Insert a document into it.</i>\n"
"CREATE VIRTUAL TABLE simple USING fts3(tokenize=simple);\n"
"INSERT INTO simple VALUES('Right now they''re very frustrated');\n"
"\n"
"<i>-- The first of the following two queries matches the document stored in</i>\n"
"<i>-- table \"simple\". The second does not.</i>\n"
"SELECT * FROM simple WHERE simple MATCH 'Frustrated';\n"
"SELECT * FROM simple WHERE simple MATCH 'Frustration';\n"
"\n"
"<i>-- Create a table using the porter tokenizer. Insert the same document into it</i>\n"
"CREATE VIRTUAL TABLE porter USING fts3(tokenize=porter);\n"
"INSERT INTO porter VALUES('Right now they''re very frustrated');\n"
"\n"
"<i>-- Both of the following queries match the document stored in table \"porter\".</i>\n"
"SELECT * FROM porter WHERE porter MATCH 'Frustrated';\n"
"SELECT * FROM porter WHERE porter MATCH 'Frustration';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2372
msgid ""
"If this extension is compiled with the SQLITE_ENABLE_ICU pre-processor "
"symbol defined, then there exists a built-in tokenizer named \"icu\" "
"implemented using the ICU library. The first argument passed to the "
"xCreate() method (see fts3_tokenizer.h) of this tokenizer may be an ICU "
"locale identifier. For example \"tr_TR\" for Turkish as used in Turkey, or "
"\"en_AU\" for English as used in Australia. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2379
#, no-wrap
msgid "CREATE VIRTUAL TABLE thai_text USING fts3(text, tokenize=icu th_TH)\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2383
msgid ""
"The ICU tokenizer implementation is very simple. It splits the input text "
"according to the ICU rules for finding word boundaries and discards any "
"tokens that consist entirely of white-space. This may be suitable for some "
"applications in some locales, but not all. If more complex processing is "
"required, for example to implement stemming or discard punctuation, this can "
"be done by creating a tokenizer implementation that uses the ICU tokenizer "
"as part of its implementation.  <a name=\"unicode61\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2394
msgid ""
"The \"unicode61\" tokenizer is available beginning with SQLite <a "
"href=\"releaselog/3_7_13.html\">version 3.7.13</a> (2012-06-11).  Unicode61 "
"works very much like \"simple\" except that it does simple unicode case "
"folding according to rules in Unicode Version 6.1 and it recognizes unicode "
"space and punctuation characters and uses those to separate tokens.  The "
"simple tokenizer only does case folding of ASCII characters and only "
"recognizes ASCII space and punctuation characters as token separators."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2403
msgid ""
"By default, \"unicode61\" attempts to remove diacritics from Latin script "
"characters. This behaviour can be overridden by adding the tokenizer "
"argument \"remove_diacritics=0\". For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2407
#, no-wrap
msgid ""
"<i>-- Create tables that remove <b>all</b>diacritics from Latin script characters</i>\n"
"<i>-- as part of tokenization.</i>\n"
"CREATE VIRTUAL TABLE txt1 USING fts4(tokenize=unicode61);\n"
"CREATE VIRTUAL TABLE txt2 USING fts4(tokenize=unicode61 \"remove_diacritics=2\");\n"
"\n"
"<i>-- Create a table that does not remove diacritics from Latin script</i>\n"
"<i>-- characters as part of tokenization.</i>\n"
"CREATE VIRTUAL TABLE txt3 USING fts4(tokenize=unicode61 \"remove_diacritics=0\");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2417
msgid ""
"The remove_diacritics option may be set to \"0\", \"1\" or \"2\". The "
"default value is \"1\".  If it is set to \"1\" or \"2\", then diacritics are "
"removed from Latin script characters as described above. However, if it is "
"set to \"1\", then diacritics are not removed in the fairly uncommon case "
"where a single unicode codepoint is used to represent a character with more "
"that one diacritic. For example, diacritics are not removed from codepoint "
"0x1ED9 (\"LATIN SMALL LETTER O WITH CIRCUMFLEX AND DOT BELOW\"). This is "
"technically a bug, but cannot be fixed without creating backwards "
"compatibility problems. If this option is set to \"2\", then diacritics are "
"correctly removed from all Latin characters."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2429
msgid ""
"It is also possible to customize the set of codepoints that unicode61 treats "
"as separator characters. The \"separators=\" option may be used to specify "
"one or more extra characters that should be treated as separator characters, "
"and the \"tokenchars=\" option may be used to specify one or more extra "
"characters that should be treated as part of tokens instead of as separator "
"characters.  For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2436
#, no-wrap
msgid ""
"<i>-- Create a table that uses the unicode61 tokenizer, but considers \".\"</i>\n"
"<i>-- and \"=\" characters to be part of tokens, and capital \"X\" characters to</i>\n"
"<i>-- function as separators.</i>\n"
"CREATE VIRTUAL TABLE txt3 USING fts4(tokenize=unicode61 \"tokenchars=.=\" \"separators=X\");\n"
"\n"
"<i>-- Create a table that considers space characters (codepoint 32) to be</i>\n"
"<i>-- a token character</i>\n"
"CREATE VIRTUAL TABLE txt4 USING fts4(tokenize=unicode61 \"tokenchars= \");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2447
msgid ""
"If a character specified as part of the argument to \"tokenchars=\" is "
"considered to be a token character by default, it is ignored. This is true "
"even if it has been marked as a separator by an earlier \"separators=\" "
"option. Similarly, if a character specified as part of a \"separators=\" "
"option is treated as a separator character by default, it is ignored. If "
"multiple \"tokenchars=\" or \"separators=\" options are specified, all are "
"processed. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2454
#, no-wrap
msgid ""
"<i>-- Create a table that uses the unicode61 tokenizer, but considers \".\"</i>\n"
"<i>-- and \"=\" characters to be part of tokens, and capital \"X\" characters to</i>\n"
"<i>-- function as separators. Both of the \"tokenchars=\" options are processed</i>\n"
"<i>-- The \"separators=\" option ignores the \".\" passed to it, as \".\" is by</i>\n"
"<i>-- default a separator character, even though it has been marked as a token</i>\n"
"<i>-- character by an earlier \"tokenchars=\" option.</i>\n"
"CREATE VIRTUAL TABLE txt5 USING fts4(\n"
"    tokenize=unicode61 \"tokenchars=.\" \"separators=X.\" \"tokenchars==\"\n"
");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2466
msgid ""
"The arguments passed to the \"tokenchars=\" or \"separators=\" options are "
"case-sensitive. In the example above, specifying that \"X\" is a separator "
"character does not affect the way \"x\" is handled.  <a name=\"f3tknzr\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><h2>
#: sedout/fts3.html:2472
msgid "<span>8.1. </span>Custom (Application Defined) Tokenizers"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2475
msgid ""
"In addition to providing built-in \"simple\", \"porter\" and (possibly) "
"\"icu\" and \"unicode61\" tokenizers, FTS provides an interface for "
"applications to implement and register custom tokenizers written in C.  The "
"interface used to create a new tokenizer is defined and described in the "
"fts3_tokenizer.h source file."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2482
msgid ""
"Registering a new FTS tokenizer is similar to registering a new virtual "
"table module with SQLite. The user passes a pointer to a structure "
"containing pointers to various callback functions that make up the "
"implementation of the new tokenizer type. For tokenizers, the structure "
"(defined in fts3_tokenizer.h) is called \"sqlite3_tokenizer_module\"."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2490
msgid ""
"FTS does not expose a C-function that users call to register new tokenizer "
"types with a database handle. Instead, the pointer must be encoded as an SQL "
"blob value and passed to FTS through the SQL engine by evaluating a special "
"scalar function, \"fts3_tokenizer()\".  The fts3_tokenizer() function may be "
"called with one or two arguments, as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2497
#, no-wrap
msgid ""
"SELECT fts3_tokenizer(&lt;tokenizer-name&gt;);\n"
"SELECT fts3_tokenizer(&lt;tokenizer-name&gt;, &lt;sqlite3_tokenizer_module ptr&gt;);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2502
msgid ""
"Where &lt;tokenizer-name&gt; is <a href=\"lang_expr."
"html#varparam\">parameter</a> to which a string is bound using <a "
"href=\"c3ref/bind_blob.html\">sqlite3_bind_text()</a> where the string "
"identifies the tokenizer and &lt;sqlite3_tokenizer_module ptr&gt; is a <a "
"href=\"lang_expr.html#varparam\">parameter</a> to which a BLOB is bound "
"using <a href=\"c3ref/bind_blob.html\">sqlite3_bind_blob()</a> where the "
"value of the BLOB is a pointer to an sqlite3_tokenizer_module structure.  If "
"the second argument is present, it is registered as tokenizer &lt;tokenizer-"
"name&gt; and a copy of it returned. If only one argument is passed, a "
"pointer to the tokenizer implementation currently registered as &lt;"
"tokenizer-name&gt; is returned, encoded as a blob. Or, if no such tokenizer "
"exists, an SQL exception (error) is raised."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2515
msgid ""
"Prior to SQLite <a href=\"releaselog/3_11_0.html\">version 3.11.0</a> "
"(2016-02-15), the arguments to fts3_tokenizer() could be literal strings or "
"BLOBs. They did not have to be <a href=\"lang_expr.html#varparam\">bound "
"parameters</a>.  But that could lead to security problems in the event of an "
"SQL injection.  Hence, the legacy behavior is now disabled by default.  But "
"the old legacy behavior can be enabled, for backwards compatibility in "
"applications that really need it, by calling <a href=\"c3ref/db_config."
"html\">sqlite3_db_config</a>(db,<a href=\"c3ref/c_dbconfig_defensive."
"html#sqlitedbconfigenablefts3tokenizer\">SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER</"
"a>,1,0)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2525
msgid ""
"The following block contains an example of calling the fts3_tokenizer()  "
"function from C code:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2528
#, no-wrap
msgid ""
"<i>/*\n"
"** Register a tokenizer implementation with FTS3 or FTS4.\n"
"*/</i>\n"
"int registerTokenizer(\n"
"  sqlite3 *db,\n"
"  char *zName,\n"
"  const sqlite3_tokenizer_module *p\n"
"){\n"
"  int rc;\n"
"  sqlite3_stmt *pStmt;\n"
"  const char *zSql = \"SELECT fts3_tokenizer(?1, ?2)\";\n"
"\n"
"  rc = sqlite3_prepare_v2(db, zSql, -1, &pStmt, 0);\n"
"  if( rc!=SQLITE_OK ){\n"
"    return rc;\n"
"  }\n"
"\n"
"  sqlite3_bind_text(pStmt, 1, zName, -1, SQLITE_STATIC);\n"
"  sqlite3_bind_blob(pStmt, 2, &p, sizeof(p), SQLITE_STATIC);\n"
"  sqlite3_step(pStmt);\n"
"\n"
"  return sqlite3_finalize(pStmt);\n"
"}\n"
"\n"
"<i>/*\n"
"** Query FTS for the tokenizer implementation named zName.\n"
"*/</i>\n"
"int queryTokenizer(\n"
"  sqlite3 *db,\n"
"  char *zName,\n"
"  const sqlite3_tokenizer_module **pp\n"
"){\n"
"  int rc;\n"
"  sqlite3_stmt *pStmt;\n"
"  const char *zSql = \"SELECT fts3_tokenizer(?)\";\n"
"\n"
"  *pp = 0;\n"
"  rc = sqlite3_prepare_v2(db, zSql, -1, &pStmt, 0);\n"
"  if( rc!=SQLITE_OK ){\n"
"    return rc;\n"
"  }\n"
"\n"
"  sqlite3_bind_text(pStmt, 1, zName, -1, SQLITE_STATIC);\n"
"  if( SQLITE_ROW==sqlite3_step(pStmt) ){\n"
"    if( sqlite3_column_type(pStmt, 0)==SQLITE_BLOB ){\n"
"      memcpy(pp, sqlite3_column_blob(pStmt, 0), sizeof(*pp));\n"
"    }\n"
"  }\n"
"\n"
"  return sqlite3_finalize(pStmt);\n"
"}\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2582
msgid "<a name=\"fts3tok\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><h2>
#: sedout/fts3.html:2584
msgid "<span>8.2. </span>Querying Tokenizers"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2586
msgid ""
"The \"fts3tokenize\" virtual table can be used to directly access any "
"tokenizer.  The following SQL demonstrates how to create an instance of the "
"fts3tokenize virtual table:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2590
#, no-wrap
msgid "CREATE VIRTUAL TABLE tok1 USING fts3tokenize('porter');\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2593
msgid ""
"The name of the desired tokenizer should be substituted in place of 'porter' "
"in the example, of course.  If the tokenizer requires one or more arguments, "
"they should be separated by commas in the fts3tokenize declaration (even "
"though they are separated by spaces in declarations of regular fts4 tables). "
"The following creates fts4 and fts3tokenize tables that use the same "
"tokenizer:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2599
#, no-wrap
msgid ""
"CREATE VIRTUAL TABLE text1 USING fts4(tokenize=icu en_AU);\n"
"CREATE VIRTUAL TABLE tokens1 USING fts3tokenize(icu, en_AU);\n"
"\n"
"CREATE VIRTUAL TABLE text2 USING fts4(tokenize=unicode61 \"tokenchars=@.\" \"separators=123\");\n"
"CREATE VIRTUAL TABLE tokens2 USING fts3tokenize(unicode61, \"tokenchars=@.\", \"separators=123\");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2607
msgid "Once the virtual table is created, it can be queried as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2609
#, no-wrap
msgid ""
"SELECT token, start, end, position\n"
"  FROM tok1\n"
" WHERE input='This is a test sentence.';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2614
msgid ""
"The virtual table will return one row of output for each token in the input "
"string.  The \"token\" column is the text of the token.  The \"start\" and "
"\"end\" columns are the byte offset to the beginning and end of the token in "
"the original input string.  The \"position\" column is the sequence number "
"of the token in the original input string.  There is also an \"input\" "
"column which is simply a copy of the input string that is specified in the "
"WHERE clause.  Note that a constraint of the form \"input=?\" must appear in "
"the WHERE clause or else the virtual table will have no input to tokenize "
"and will return no rows.  The example above generates the following output:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2626
#, no-wrap
msgid ""
"thi|0|4|0\n"
"is|5|7|1\n"
"a|8|9|2\n"
"test|10|14|3\n"
"sentenc|15|23|4\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2633
msgid ""
"Notice that the tokens in the result set from the fts3tokenize virtual table "
"have been transformed according to the rules of the tokenizer.  Since this "
"example used the \"porter\" tokenizer, the \"This\" token was converted into "
"\"thi\".  If the original text of the token is desired, it can be retrieved "
"using the \"start\" and \"end\" columns with the <a href=\"lang_corefunc."
"html#substr\">substr()</a> function.  For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2640
#, no-wrap
msgid ""
"SELECT substr(input, start+1, end-start), token, position\n"
"  FROM tok1\n"
" WHERE input='This is a test sentence.';\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2645
msgid ""
"The fts3tokenize virtual table can be used on any tokenizer, regardless of "
"whether or not there exists an FTS3 or FTS4 table that actually uses that "
"tokenizer."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2650
msgid "<a name=\"data_structures\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><h1>
#: sedout/fts3.html:2651
msgid "<span>9. </span>Data Structures"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2654
msgid ""
"This section describes at a high-level the way the FTS module stores its "
"index and content in the database. It is <b>not necessary to read or "
"understand the material in this section in order to use FTS</b> in an "
"application. However, it may be useful to application developers attempting "
"to analyze and understand FTS performance characteristics, or to developers "
"contemplating enhancements to the existing FTS feature set."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p>
#: sedout/fts3.html:2662
msgid "<a name=\"*shadowtab\"></a> <a name=\"shadow_tables\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><h2>
#: sedout/fts3.html:2665
msgid "<span>9.1. </span>Shadow Tables"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2667
msgid ""
"For each FTS virtual table in a database, three to five real (non-virtual) "
"tables are created to store the underlying data.  These real tables are "
"called \"shadow tables\".  The real tables are named \"%_content\", "
"\"%_segdir\", \"%_segments\", \"%_stat\", and \"%_docsize\", where \"%\" is "
"replaced by the name of the FTS virtual table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2674
msgid ""
"The leftmost column of the \"%_content\" table is an INTEGER PRIMARY KEY "
"field named \"docid\". Following this is one column for each column of the "
"FTS virtual table as declared by the user, named by prepending the column "
"name supplied by the user with \"c<i>N</i>\", where <i>N</i> is the index of "
"the column within the table, numbered from left to right starting with 0. "
"Data types supplied as part of the virtual table declaration are not used as "
"part of the %_content table declaration. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2682
#, no-wrap
msgid ""
"<i>-- Virtual table declaration</i>\n"
"CREATE VIRTUAL TABLE abc USING fts4(a NUMBER, b TEXT, c);\n"
"\n"
"<i>-- Corresponding %_content table declaration</i>\n"
"CREATE TABLE abc_content(docid INTEGER PRIMARY KEY, c0a, c1b, c2c);\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2690
msgid ""
"The %_content table contains the unadulterated data inserted by the user "
"into the FTS virtual table by the user. If the user does not explicitly "
"supply a \"docid\" value when inserting records, one is selected "
"automatically by the system."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2696
msgid ""
"The %_stat and %_docsize tables are only created if the FTS table uses the "
"FTS4 module, not FTS3. Furthermore, the %_docsize table is omitted if the "
"FTS4 table is created with the <a href=\"fts3."
"html#fts4matchinfo\">\"matchinfo=fts3\"</a> directive specified as part of "
"the CREATE VIRTUAL TABLE statement. If they are created, the schema of the "
"two tables is as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2701
#, no-wrap
msgid ""
"CREATE TABLE %_stat(\n"
"  id INTEGER PRIMARY KEY,\n"
"  value BLOB\n"
");\n"
"\n"
"CREATE TABLE %_docsize(\n"
"  docid INTEGER PRIMARY KEY,\n"
"  size BLOB\n"
");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2713
msgid ""
"For each row in the FTS table, the %_docsize table contains a corresponding "
"row with the same \"docid\" value. The \"size\" field contains a blob "
"consisting of <i>N</i> FTS varints, where <i>N</i> is the number of user-"
"defined columns in the table. Each varint in the \"size\" blob is the number "
"of tokens in the corresponding column of the associated row in the FTS "
"table. The %_stat table always contains a single row with the \"id\" column "
"set to 0. The \"value\" column contains a blob consisting of <i>N+1</i> FTS "
"varints, where <i>N</i> is again the number of user-defined columns in the "
"FTS table. The first varint in the blob is set to the total number of rows "
"in the FTS table. The second and subsequent varints contain the total number "
"of tokens stored in the corresponding column for all rows of the FTS table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2726
msgid ""
"The two remaining tables, %_segments and %_segdir, are used to store the "
"full-text index. Conceptually, this index is a lookup table that maps each "
"term (word) to the set of docid values corresponding to records in the "
"%_content table that contain one or more occurrences of the term. To "
"retrieve all documents that contain a specified term, the FTS module queries "
"this index to determine the set of docid values for records that contain the "
"term, then retrieves the required documents from the %_content table. "
"Regardless of the schema of the FTS virtual table, the %_segments and "
"%_segdir tables are always created as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><div><pre>
#: sedout/fts3.html:2736
#, no-wrap
msgid ""
"CREATE TABLE %_segments(\n"
"  blockid INTEGER PRIMARY KEY,       <i>-- B-tree node id</i>\n"
"  block blob                         <i>-- B-tree node data</i>\n"
");\n"
"\n"
"CREATE TABLE %_segdir(\n"
"  level INTEGER,\n"
"  idx INTEGER,\n"
"  start_block INTEGER,               <i>-- Blockid of first node in %_segments</i>\n"
"  leaves_end_block INTEGER,          <i>-- Blockid of last leaf node in %_segments</i>\n"
"  end_block INTEGER,                 <i>-- Blockid of last node in %_segments</i>\n"
"  root BLOB,                         <i>-- B-tree root node</i>\n"
"  PRIMARY KEY(level, idx)\n"
");\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2753
msgid ""
"The schema depicted above is not designed to store the full-text index "
"directly. Instead, it is used to store one or more b-tree structures. There "
"is one b-tree for each row in the %_segdir table. The %_segdir table row "
"contains the root node and various meta-data associated with the b-tree "
"structure, and the %_segments table contains all other (non-root)  b-tree "
"nodes. Each b-tree is referred to as a \"segment\". Once it has been "
"created, a segment b-tree is never updated (although it may be deleted "
"altogether)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p>
#: sedout/fts3.html:2763
msgid ""
"The keys used by each segment b-tree are terms (words). As well as the key, "
"each segment b-tree entry has an associated \"doclist\" (document list).  A "
"doclist consists of zero or more entries, where each entry consists of:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><ul><li>
#: sedout/fts3.html:2768
msgid "A docid (document id), and"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><ul><li>
#: sedout/fts3.html:2769
msgid ""
"A list of term offsets, one for each occurrence of the term within the "
"document. A term offset indicates the number of tokens (words)  that occur "
"before the term in question, not the number of characters or bytes. For "
"example, the term offset of the term \"war\" in the phrase \"Ancestral "
"voices prophesying war!\" is 3."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2777
msgid ""
"Entries within a doclist are sorted by docid. Positions within a doclist "
"entry are stored in ascending order."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2781
msgid ""
"The contents of the logical full-text index is found by merging the contents "
"of all segment b-trees. If a term is present in more than one segment b-"
"tree, then it maps to the union of each individual doclist. If, for a single "
"term, the same docid occurs in more than one doclist, then only the doclist "
"that is part of the most recently created segment b-tree is considered valid."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2789
msgid ""
"Multiple b-tree structures are used instead of a single b-tree to reduce the "
"cost of inserting records into FTS tables. When a new record is inserted "
"into an FTS table that already contains a lot of data, it is likely that "
"many of the terms in the new record are already present in a large number of "
"existing records. If a single b-tree were used, then large doclist "
"structures would have to be loaded from the database, amended to include the "
"new docid and term-offset list, then written back to the database. Using "
"multiple b-tree tables allows this to be avoided by creating a new b-tree "
"which can be merged with the existing b-tree (or b-trees) later on. Merging "
"of b-tree structures can be performed as a background task, or once a "
"certain number of separate b-tree structures have been accumulated. Of "
"course, this scheme makes queries more expensive (as the FTS code may have "
"to look up individual terms in more than one b-tree and merge the results), "
"but it has been found that in practice this overhead is often negligible."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><h2>
#: sedout/fts3.html:2805
msgid "<span>9.2. </span>Variable Length Integer (varint) Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2808
msgid ""
"Integer values stored as part of segment b-tree nodes are encoded using the "
"FTS varint format. This encoding is similar, but <b>not identical</b>, to "
"the <a href=\"fileformat2.html#varint\">SQLite varint format</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2813
msgid ""
"An encoded FTS varint consumes between one and ten bytes of space. The "
"number of bytes required is determined by the sign and magnitude of the "
"integer value encoded. More accurately, the number of bytes used to store "
"the encoded integer depends on the position of the most significant set bit "
"in the 64-bit twos-complement representation of the integer value. Negative "
"values always have the most significant bit set (the sign bit), and so are "
"always stored using the full ten bytes. Positive integer values may be "
"stored using less space."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2823
msgid ""
"The final byte of an encoded FTS varint has its most significant bit "
"cleared. All preceding bytes have the most significant bit set. Data is "
"stored in the remaining seven least significant bits of each byte.  The "
"first byte of the encoded representation contains the least significant "
"seven bits of the encoded integer value. The second byte of the encoded "
"representation, if it is present, contains the seven next least significant "
"bits of the integer value, and so on. The following table contains examples "
"of encoded integer values:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><th>
#: sedout/fts3.html:2833
msgid "Decimal"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><th>
#: sedout/fts3.html:2833
msgid "Hexadecimal"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><th>
#: sedout/fts3.html:2833
msgid "Encoded Representation"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2834
msgid "43"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2834
msgid "0x000000000000002B"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2834
msgid "0x2B"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2835
msgid "200815"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2835
msgid "0x000000000003106F"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2835
msgid "0xEF 0xA0 0x0C"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2836
msgid "0xFFFFFFFFFFFFFFFF"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2836
msgid "0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0x01"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><h2>
#: sedout/fts3.html:2840
msgid "<span>9.3. </span>Segment B-Tree Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2843
msgid ""
"Segment b-trees are prefix-compressed b+-trees. There is one segment b-tree "
"for each row in the %_segdir table (see above). The root node of the segment "
"b-tree is stored as a blob in the \"root\" field of the corresponding row of "
"the %_segdir table. All other nodes (if any exist) are stored in the "
"\"blob\" column of the %_segments table. Nodes within the %_segments table "
"are identified by the integer value in the blockid field of the "
"corresponding row. The following table describes the fields of the %_segdir "
"table:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><th>
#: sedout/fts3.html:2852
msgid "Column"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2853
msgid "level"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2854
msgid ""
"Between them, the contents of the \"level\" and \"idx\" fields define the "
"relative age of the segment b-tree. The smaller the value stored in the "
"\"level\" field, the more recently the segment b-tree was created. If two "
"segment b-trees are of the same \"level\", the segment with the larger value "
"stored in the \"idx\" column is more recent. The PRIMARY KEY constraint on "
"the %_segdir table prevents any two segments from having the same value for "
"both the \"level\" and \"idx\" fields."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2861
msgid "idx"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2861
msgid "See above."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2862
msgid "start_block"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2863
msgid ""
"The blockid that corresponds to the node with the smallest blockid that "
"belongs to this segment b-tree. Or zero if the entire segment b-tree fits on "
"the root node. If it exists, this node is always a leaf node."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2866
msgid "leaves_end_block"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2867
msgid ""
"The blockid that corresponds to the leaf node with the largest blockid that "
"belongs to this segment b-tree. Or zero if the entire segment b-tree fits on "
"the root node."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2870
msgid "end_block"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2871
msgid ""
"This field may contain either an integer or a text field consisting of two "
"integers separated by a space character (unicode codepoint 0x20)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td><p>
#: sedout/fts3.html:2874
msgid ""
"The first, or only, integer is the blockid that corresponds to the interior "
"node with the largest blockid that belongs to this segment b-tree. Or zero "
"if the entire segment b-tree fits on the root node. If it exists, this node "
"is always an interior node."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td><p>
#: sedout/fts3.html:2879
msgid ""
"The second integer, if it is present, is the aggregate size of all data "
"stored on leaf pages in bytes. If the value is negative, then the segment is "
"the output of an unfinished incremental-merge operation, and the absolute "
"value is current size in bytes."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2884
msgid "root"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><table><tr><td>
#: sedout/fts3.html:2885
msgid "Blob containing the root node of the segment b-tree."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2889
msgid ""
"Apart from the root node, the nodes that make up a single segment b-tree are "
"always stored using a contiguous sequence of blockids. Furthermore, the "
"nodes that make up a single level of the b-tree are themselves stored as a "
"contiguous block, in b-tree order. The contiguous sequence of blockids used "
"to store the b-tree leaves are allocated starting with the blockid value "
"stored in the \"start_block\" column of the corresponding %_segdir row, and "
"finishing at the blockid value stored in the \"leaves_end_block\" field of "
"the same row. It is therefore possible to iterate through all the leaves of "
"a segment b-tree, in key order, by traversing the %_segments table in "
"blockid order from \"start_block\" to \"leaves_end_block\"."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><h3>
#: sedout/fts3.html:2900
msgid "<span>9.3.1. </span>Segment B-Tree Leaf Nodes"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2903
msgid "The following diagram depicts the format of a segment b-tree leaf node."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><center><img><p>
#: sedout/fts3.html:2907
msgid "Segment B-Tree Leaf Node Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2911
msgid ""
"The first term stored on each node (\"Term 1\" in the figure above) is "
"stored verbatim. Each subsequent term is prefix-compressed with respect to "
"its predecessor. Terms are stored within a page in sorted (memcmp)  order."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><h3>
#: sedout/fts3.html:2916
msgid "<span>9.3.2. </span>Segment B-Tree Interior Nodes"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2919
msgid ""
"The following diagram depicts the format of a segment b-tree interior (non-"
"leaf) node."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><center><img><p>
#: sedout/fts3.html:2924
msgid "Segment B-Tree Interior Node Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><h2>
#: sedout/fts3.html:2928
msgid "<span>9.4. </span>Doclist Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2931
msgid ""
"A doclist consists of an array of 64-bit signed integers, serialized using "
"the FTS varint format. Each doclist entry is made up of a series of two or "
"more integers, as follows:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ol><li>
#: sedout/fts3.html:2936
msgid ""
"The docid value. The first entry in a doclist contains the literal docid "
"value. The first field of each subsequent doclist entry contains the "
"difference between the new docid and the previous one (always a positive "
"number)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ol><li>
#: sedout/fts3.html:2940
msgid ""
"Zero or more term-offset lists. A term-offset list is present for each "
"column of the FTS virtual table that contains the term. A term-offset list "
"consists of the following:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ol><li><ol><li>
#: sedout/fts3.html:2944
msgid ""
"Constant value 1. This field is omitted for any term-offset list associated "
"with column 0."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ol><li><ol><li>
#: sedout/fts3.html:2946
msgid ""
"The column number (1 for the second leftmost column, etc.). This field is "
"omitted for any term-offset list associated with column 0."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ol><li><ol><li>
#: sedout/fts3.html:2948
msgid ""
"A list of term-offsets, sorted from smallest to largest. Instead of storing "
"the term-offset value literally, each integer stored is the difference "
"between the current term-offset and the previous one (or zero if the current "
"term-offset is the first), plus 2."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ol><li>
#: sedout/fts3.html:2953
msgid "Constant value 0."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><center><img><p>
#: sedout/fts3.html:2958
msgid "FTS3 Doclist Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><center><img><p>
#: sedout/fts3.html:2963
msgid "FTS Doclist Entry Format"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:2967
msgid ""
"For doclists for which the term appears in more than one column of the FTS "
"virtual table, term-offset lists within the doclist are stored in column "
"number order. This ensures that the term-offset list associated with column "
"0 (if any) is always first, allowing the first two fields of the term-offset "
"list to be omitted in this case."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2973
msgid "<a name=\"limitations\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><h1>
#: sedout/fts3.html:2974
msgid "<span>10. </span>Limitations"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><h2>
#: sedout/fts3.html:2976
msgid "<span>10.1. </span> UTF-16 byte-order-mark problem"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:2978
msgid ""
"For UTF-16 databases, when using the \"simple\" tokenizer, it is possible to "
"use malformed unicode strings to cause the <a href=\"#integcheck\">integrity-"
"check special command</a> to falsely report corruption, or for <a "
"href=\"#snippet\">auxiliary functions</a> to return incorrect results. More "
"specifically, the bug can be triggered by any of the following:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:2985
msgid ""
"A UTF-16 byte-order-mark (BOM) is embedded at the beginning of an SQL string "
"literal value inserted into an FTS3 table. For example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li><div><pre>
#: sedout/fts3.html:2988
#, no-wrap
msgid "INSERT INTO fts_table(col) VALUES(char(0xfeff)||'text...');\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:2991
msgid ""
"Malformed UTF-8 that SQLite converts to a UTF-16 byte-order-mark is embedded "
"at the beginning of an SQL string literal value inserted into an FTS3 table."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:2995
msgid ""
"A text value created by casting a blob that begins with the two bytes 0xFF "
"and 0xFE, in either possible order, is inserted into an FTS3 table. For "
"example:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li><div><pre>
#: sedout/fts3.html:2999
#, no-wrap
msgid "INSERT INTO fts_table(col) VALUES(CAST(X'FEFF' AS TEXT));\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:3003
msgid "Everything works correctly if any of the following are true:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:3005
msgid ""
"The <a href=\"pragma.html#pragma_encoding\">database encoding</a> is UTF-8."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:3006
msgid ""
"All text strings are insert using one of the <a href=\"c3ref/bind_blob."
"html\">sqlite3_bind_text()</a> family of functions."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:3008
msgid "Literal strings contain no byte-order-marks."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><ul><li>
#: sedout/fts3.html:3009
msgid ""
"A tokenizer is used that recognizes byte-order-marks as whitespace.  (The "
"default \"simple\" tokenizer for FTS3/4 does not think that BOMs are "
"whitespace, but the unicode tokenizer does.)"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p>
#: sedout/fts3.html:3014
msgid ""
"All of the above conditions must be false in order for problems to occur.  "
"And even if all of the conditiona above are false, most things will still "
"operator correctly.  Only the <a href=\"#integcheck\">integrity-check</a> "
"command and the <a href=\"#snippet\">auxiliary functions</a> might given "
"unexpected results.  <a name=\"appendix_a\"></a>"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><h1>
#: sedout/fts3.html:3023
msgid "Appendix A: Search Application Tips"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:3027
msgid ""
"FTS is primarily designed to support Boolean full-text queries - queries to "
"find the set of documents that match a specified criteria. However, many "
"(most?) search applications require that results are somehow ranked in order "
"of \"relevance\", where \"relevance\" is defined as the likelihood that the "
"user who performed the search is interested in a specific element of the "
"returned set of documents. When using a search engine to find documents on "
"the world wide web, the user expects that the most useful, or \"relevant\", "
"documents will be returned as the first page of results, and that each "
"subsequent page contains progressively less relevant results. Exactly how a "
"machine can determine document relevance based on a users query is a "
"complicated problem and the subject of much ongoing research."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:3040
msgid ""
"One very simple scheme might be to count the number of instances of the "
"users search terms in each result document. Those documents that contain "
"many instances of the terms are considered more relevant than those with a "
"small number of instances of each term. In an FTS application, the number of "
"term instances in each result could be determined by counting the number of "
"integers in the return value of the <a href=\"fts3.html#offsets\">offsets</"
"a> function.  The following example shows a query that could be used to "
"obtain the ten most relevant results for a query entered by the user:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><div><pre>
#: sedout/fts3.html:3049
#, no-wrap
msgid ""
"<i>-- This example (and all others in this section) assumes the following schema</i>\n"
"CREATE VIRTUAL TABLE documents USING fts3(title, content);\n"
"\n"
"<i>-- Assuming the application has supplied an SQLite user function named \"countintegers\"</i>\n"
"<i>-- that returns the number of space-separated integers contained in its only argument,</i>\n"
"<i>-- the following query could be used to return the titles of the 10 documents that contain</i>\n"
"<i>-- the greatest number of instances of the users query terms. Hopefully, these 10</i>\n"
"<i>-- documents will be those that the users considers more or less the most \"relevant\".</i>\n"
"SELECT title FROM documents\n"
"  WHERE documents MATCH &lt;query&gt;\n"
"  ORDER BY countintegers(offsets(documents)) DESC\n"
"  LIMIT 10 OFFSET 0\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:3064
msgid ""
"The query above could be made to run faster by using the FTS <a href=\"fts3."
"html#matchinfo\">matchinfo</a> function to determine the number of query "
"term instances that appear in each result. The matchinfo function is much "
"more efficient than the offsets function. Furthermore, the matchinfo "
"function provides extra information regarding the overall number of "
"occurrences of each query term in the entire document set (not just the "
"current row) and the number of documents in which each query term appears. "
"This may be used (for example) to attach a higher weight to less common "
"terms which may increase the overall computed relevancy of those results the "
"user considers more interesting."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><div><pre>
#: sedout/fts3.html:3074
#, no-wrap
msgid ""
"<i>-- If the application supplies an SQLite user function called \"rank\" that</i>\n"
"<i>-- interprets the blob of data returned by matchinfo and returns a numeric</i>\n"
"<i>-- relevancy based on it, then the following SQL may be used to return the</i>\n"
"<i>-- titles of the 10 most relevant documents in the dataset for a users query.</i>\n"
"SELECT title FROM documents\n"
"  WHERE documents MATCH &lt;query&gt;\n"
"  ORDER BY rank(matchinfo(documents)) DESC\n"
"  LIMIT 10 OFFSET 0\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:3085
msgid ""
"The SQL query in the example above uses less CPU than the first example in "
"this section, but still has a non-obvious performance problem. SQLite "
"satisfies this query by retrieving the value of the \"title\" column and "
"matchinfo data from the FTS module for every row matched by the users query "
"before it sorts and limits the results. Because of the way SQLite's virtual "
"table interface works, retrieving the value of the \"title\" column requires "
"loading the entire row from disk (including the \"content\" field, which may "
"be quite large). This means that if the users query matches several thousand "
"documents, many megabytes of \"title\" and \"content\" data may be loaded "
"from disk into memory even though they will never be used for any purpose."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:3098
msgid ""
"The SQL query in the following example block is one solution to this "
"problem. In SQLite, when a <a href=\"optoverview.html#flattening\">sub-query "
"used in a join contains a LIMIT clause</a>, the results of the sub-query are "
"calculated and stored in temporary table before the main query is executed.  "
"This means that SQLite will load only the docid and matchinfo data for each "
"row matching the users query into memory, determine the docid values "
"corresponding to the ten most relevant documents, then load only the title "
"and content information for those 10 documents only. Because both the "
"matchinfo and docid values are gleaned entirely from the full-text index, "
"this results in dramatically less data being loaded from the database into "
"memory."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><div><pre>
#: sedout/fts3.html:3109
#, no-wrap
msgid ""
"SELECT title FROM documents JOIN (\n"
"    SELECT docid, rank(matchinfo(documents)) AS rank\n"
"    FROM documents\n"
"    WHERE documents MATCH &lt;query&gt;\n"
"    ORDER BY rank DESC\n"
"    LIMIT 10 OFFSET 0\n"
") AS ranktable USING(docid)\n"
"ORDER BY ranktable.rank DESC\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p>
#: sedout/fts3.html:3120
msgid ""
"The next block of SQL enhances the query with solutions to two other "
"problems that may arise in developing search applications using FTS:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:3125
msgid ""
"The <a href=\"fts3.html#snippet\">snippet</a> function cannot be used with "
"the above query. Because the outer query does not include a \"WHERE ... "
"MATCH\" clause, the snippet function may not be used with it. One solution "
"is to duplicate the WHERE clause used by the sub-query in the outer query. "
"The overhead associated with this is usually negligible."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><ol><li>
#: sedout/fts3.html:3131
msgid ""
"The relevancy of a document may depend on something other than just the data "
"available in the return value of matchinfo. For example each document in the "
"database may be assigned a static weight based on factors unrelated to its "
"content (origin, author, age, number of references etc.). These values can "
"be stored by the application in a separate table that can be joined against "
"the documents table in the sub-query so that the rank function may access "
"them."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><p>
#: sedout/fts3.html:3141
msgid ""
"This version of the query is very similar to that used by the <a "
"href=\"http://www.sqlite.org/search?q=fts3\">sqlite.org documentation "
"search</a> application."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:3145
#, no-wrap
msgid ""
"<i>-- This table stores the static weight assigned to each document in FTS table</i>\n"
"<i>-- \"documents\". For each row in the documents table there is a corresponding row</i>\n"
"<i>-- with the same docid value in this table.</i>\n"
"CREATE TABLE documents_data(docid INTEGER PRIMARY KEY, weight);\n"
"\n"
"<i>-- This query is similar to the one in the block above, except that:</i>\n"
"<i>--</i>\n"
"<i>--   1. It returns a \"snippet\" of text along with the document title for display. So</i>\n"
"<i>--      that the snippet function may be used, the \"WHERE ... MATCH ...\" clause from</i>\n"
"<i>--      the sub-query is duplicated in the outer query.</i>\n"
"<i>--</i>\n"
"<i>--   2. The sub-query joins the documents table with the document_data table, so that</i>\n"
"<i>--      implementation of the rank function has access to the static weight assigned</i>\n"
"<i>--      to each document.</i>\n"
"SELECT title, snippet(documents) FROM documents JOIN (\n"
"    SELECT docid, rank(matchinfo(documents), documents_data.weight) AS rank\n"
"    FROM documents JOIN documents_data USING(docid)\n"
"    WHERE documents MATCH &lt;query&gt;\n"
"    ORDER BY rank DESC\n"
"    LIMIT 10 OFFSET 0\n"
") AS ranktable USING(docid)\n"
"WHERE documents MATCH &lt;query&gt;\n"
"ORDER BY ranktable.rank DESC\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><p>
#: sedout/fts3.html:3171
msgid ""
"All the example queries above return the ten most relevant query results.  "
"By modifying the values used with the OFFSET and LIMIT clauses, a query to "
"return (say) the next ten most relevant results is easy to construct.  This "
"may be used to obtain the data required for a search applications second and "
"subsequent pages of results."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><p>
#: sedout/fts3.html:3178
msgid ""
"The next block contains an example rank function that uses matchinfo data "
"implemented in C. Instead of a single weight, it allows a weight to be "
"externally assigned to each column of each document. It may be registered "
"with SQLite like any other user function using <a href=\"c3ref/"
"create_function.html\">sqlite3_create_function</a>."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><p>
#: sedout/fts3.html:3183
msgid ""
"<b> Security Warning:</b> Because it is just an ordinary SQL function, "
"rank() may be invoked as part of any SQL query in any context. This means "
"that the first argument passed may not be a valid matchinfo blob.  "
"Implementors should take care to handle this case without causing buffer "
"overruns or other potential security problems."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><language-id><integer><p><p><p><p><p><p><div><pre>
#: sedout/fts3.html:3189
#, no-wrap
msgid ""
"<i>/*</i>\n"
"<i>** SQLite user defined function to use with matchinfo() to calculate the</i>\n"
"<i>** relevancy of an FTS match. The value returned is the relevancy score</i>\n"
"<i>** (a real value greater than or equal to zero). A larger value indicates </i>\n"
"<i>** a more relevant document.</i>\n"
"<i>**</i>\n"
"<i>** The overall relevancy returned is the sum of the relevancies of each </i>\n"
"<i>** column value in the FTS table. The relevancy of a column value is the</i>\n"
"<i>** sum of the following for each reportable phrase in the FTS query:</i>\n"
"<i>**</i>\n"
"<i>**   (&lt;hit count&gt; / &lt;global hit count&gt;) * &lt;column weight&gt;</i>\n"
"<i>**</i>\n"
"<i>** where &lt;hit count&gt; is the number of instances of the phrase in the</i>\n"
"<i>** column value of the current row and &lt;global hit count&gt; is the number</i>\n"
"<i>** of instances of the phrase in the same column of all rows in the FTS</i>\n"
"<i>** table. The &lt;column weight&gt; is a weighting factor assigned to each</i>\n"
"<i>** column by the caller (see below).</i>\n"
"<i>**</i>\n"
"<i>** The first argument to this function must be the return value of the FTS </i>\n"
"<i>** matchinfo() function. Following this must be one argument for each column </i>\n"
"<i>** of the FTS table containing a numeric weight factor for the corresponding </i>\n"
"<i>** column. Example:</i>\n"
"<i>**</i>\n"
"<i>**     CREATE VIRTUAL TABLE documents USING fts3(title, content)</i>\n"
"<i>**</i>\n"
"<i>** The following query returns the docids of documents that match the full-text</i>\n"
"<i>** query &lt;query&gt; sorted from most to least relevant. When calculating</i>\n"
"<i>** relevance, query term instances in the 'title' column are given twice the</i>\n"
"<i>** weighting of those in the 'content' column.</i>\n"
"<i>**</i>\n"
"<i>**     SELECT docid FROM documents </i>\n"
"<i>**     WHERE documents MATCH &lt;query&gt; </i>\n"
"<i>**     ORDER BY rank(matchinfo(documents), 1.0, 0.5) DESC</i>\n"
"<i>*/</i>\n"
"static void rankfunc(sqlite3_context *pCtx, int nVal, sqlite3_value **apVal){\n"
"  int *aMatchinfo;                <i>/* Return value of matchinfo() */</i>\n"
"  int nMatchinfo;                 <i>/* Number of elements in aMatchinfo&#x5B;&#x5D; */</i>\n"
"  int nCol = 0;                   <i>/* Number of columns in the table */</i>\n"
"  int nPhrase = 0;                <i>/* Number of phrases in the query */</i>\n"
"  int iPhrase;                    <i>/* Current phrase */</i>\n"
"  double score = 0.0;             <i>/* Value to return */</i>\n"
"\n"
"  assert( sizeof(int)==4 );\n"
"\n"
"<i>  /* Check that the number of arguments passed to this function is correct.</i>\n"
"<i>  ** If not, jump to wrong_number_args. Set aMatchinfo to point to the array</i>\n"
"<i>  ** of unsigned integer values returned by FTS function matchinfo. Set</i>\n"
"<i>  ** nPhrase to contain the number of reportable phrases in the users full-text</i>\n"
"<i>  ** query, and nCol to the number of columns in the table. Then check that the</i>\n"
"<i>  ** size of the matchinfo blob is as expected. Return an error if it is not.</i>\n"
"<i>  */</i>\n"
"  if( nVal&lt;1 ) goto wrong_number_args;\n"
"  aMatchinfo = (unsigned int *)sqlite3_value_blob(apVal&#x5B;0&#x5D;);\n"
"  nMatchinfo = sqlite3_value_bytes(apVal&#x5B;0&#x5D;) / sizeof(int);\n"
"  if( nMatchinfo&gt;=2 ){\n"
"    nPhrase = aMatchinfo&#x5B;0&#x5D;;\n"
"    nCol = aMatchinfo&#x5B;1&#x5D;;\n"
"  }\n"
"  if( nMatchinfo!=(2+3*nCol*nPhrase) ){\n"
"    sqlite3_result_error(pCtx,\n"
"      \"invalid matchinfo blob passed to function rank()\", -1);\n"
"    return;\n"
"  }\n"
"  if( nVal!=(1+nCol) ) goto wrong_number_args;\n"
"\n"
"<i>  /* Iterate through each phrase in the users query. */</i>\n"
"  for(iPhrase=0; iPhrase&lt;nPhrase; iPhrase++){\n"
"    int iCol;                     <i>/* Current column */</i>\n"
"\n"
"<i>    /* Now iterate through each column in the users query. For each column,</i>\n"
"<i>    ** increment the relevancy score by:</i>\n"
"<i>    **</i>\n"
"<i>    **   (&lt;hit count&gt; / &lt;global hit count&gt;) * &lt;column weight&gt;</i>\n"
"<i>    **</i>\n"
"<i>    ** aPhraseinfo&#x5B;&#x5D; points to the start of the data for phrase iPhrase. So</i>\n"
"<i>    ** the hit count and global hit counts for each column are found in </i>\n"
"<i>    ** aPhraseinfo&#x5B;iCol*3&#x5D; and aPhraseinfo&#x5B;iCol*3+1&#x5D;, respectively.</i>\n"
"<i>    */</i>\n"
"    int *aPhraseinfo = &aMatchinfo&#x5B;2 + iPhrase*nCol*3&#x5D;;\n"
"    for(iCol=0; iCol&lt;nCol; iCol++){\n"
"      int nHitCount = aPhraseinfo&#x5B;3*iCol&#x5D;;\n"
"      int nGlobalHitCount = aPhraseinfo&#x5B;3*iCol+1&#x5D;;\n"
"      double weight = sqlite3_value_double(apVal&#x5B;iCol+1&#x5D;);\n"
"      if( nHitCount>0 ){\n"
"        score += ((double)nHitCount / (double)nGlobalHitCount) * weight;\n"
"      }\n"
"    }\n"
"  }\n"
"\n"
"  sqlite3_result_double(pCtx, score);\n"
"  return;\n"
"\n"
"<i>  /* Jump here if the wrong number of arguments are passed to this function */</i>\n"
"wrong_number_args:\n"
"  sqlite3_result_error(pCtx, \"wrong number of arguments to function rank()\", -1);\n"
"}\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/fts3.html:3286
msgid ""
"<small><i>This page last modified on <a href=\"https://sqlite.org/docsrc/"
"honeypot\" id=\"mtimelink\" data-href=\"https://sqlite.org/docsrc/finfo/"
"pages/fts3.in?m=8c1e21ee46\">2023-02-27 02:07:35</a> UTC </i></small>"
msgstr ""
