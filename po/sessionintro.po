# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-03-16 16:10+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Content of: <html><body><div><div><div>
#: sedout/sessionintro.html:6 sedout/sessionintro.html:121
msgid "The Session Extension"
msgstr ""

#. type: Content of: <html><body><div><a>
#: sedout/sessionintro.html:11
msgid "<a href=\"index.html\">"
msgstr ""

#. type: Attribute 'alt' of: <html><body><div><a><img>
#: sedout/sessionintro.html:12
msgid "SQLite"
msgstr ""

#. type: Content of: <html><body><div><div>
#: sedout/sessionintro.html:16
msgid "Small. Fast. Reliable."
msgstr ""

#. type: Content of: <html><body><div><div><br>
#: sedout/sessionintro.html:16
msgid "Choose any three."
msgstr ""

#. type: Content of: <html><body><div><div><ul><li>
#: sedout/sessionintro.html:20
msgid "<a href=\"index.html\">Home</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li>
#: sedout/sessionintro.html:21
msgid "<a href=\"javascript:void(0)\" onclick='toggle_div(\"submenu\")'>Menu</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li>
#: sedout/sessionintro.html:22 sedout/sessionintro.html:34
msgid "<a href='about.html'>About</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li>
#: sedout/sessionintro.html:23
msgid "<a href=\"docs.html\">Documentation</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li>
#: sedout/sessionintro.html:24
msgid "<a href=\"download.html\">Download</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li>
#: sedout/sessionintro.html:25
msgid "<a href='copyright.html'>License</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li><li>
#: sedout/sessionintro.html:26
msgid "<a href=\"support.html\">Support</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li><li><li>
#: sedout/sessionintro.html:27
msgid "<a href=\"prosupport.html\">Purchase</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li><li><li><li><li>
#: sedout/sessionintro.html:29
msgid "<a href=\"javascript:void(0)\" onclick='toggle_search()'>Search</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li>
#: sedout/sessionintro.html:35
msgid "<a href='docs.html'>Documentation</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li>
#: sedout/sessionintro.html:36
msgid "<a href='download.html'>Download</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li>
#: sedout/sessionintro.html:37
msgid "<a href='support.html'>Support</a>"
msgstr ""

#. type: Content of: <html><body><div><div><ul><li><li><li><li><li>
#: sedout/sessionintro.html:38
msgid "<a href='prosupport.html'>Purchase</a>"
msgstr ""

#. type: Content of: <html><body><div><div><form><select>
#: sedout/sessionintro.html:43
msgid "<select name=\"s\" id=\"searchtype\">"
msgstr ""

#. type: Content of: <html><body><div><div><form><select><option>
#: sedout/sessionintro.html:44
msgid "Search Documentation"
msgstr ""

#. type: Content of: <html><body><div><div><form><select><option>
#: sedout/sessionintro.html:45
msgid "Search Changelog"
msgstr ""

#. type: Content of: <html><body><div><div><form>
#: sedout/sessionintro.html:46
msgid ""
"</select> <input type=\"text\" name=\"q\" id=\"searchbox\" value=\"\"/> "
"<input type=\"submit\" value=\"Go\"/>"
msgstr ""

#. type: Content of: <html><body><script>
#: sedout/sessionintro.html:53
msgid ""
"function toggle_div(nm) { var w = document.getElementById(nm); if( "
"w.style.display==\"block\" ){ w.style.display = \"none\"; }else{ "
"w.style.display = \"block\"; } } function toggle_search() { var w = "
"document.getElementById(\"searchmenu\"); if( w.style.display==\"block\" ){ "
"w.style.display = \"none\"; } else { w.style.display = \"block\"; "
"setTimeout(function(){ document.getElementById(\"searchbox\").focus()  }, "
"30); } } function "
"div_off(nm){document.getElementById(nm).style.display=\"none\";} "
"window.onbeforeunload = function(e){div_off(\"submenu\");} /* Disable the "
"Search feature if we are not operating from CGI, since */ /* Search is "
"accomplished using CGI and will not work without it. */ if( !location.origin "
"|| !location.origin.match || !location.origin.match(/http/) ){ "
"document.getElementById(\"search_menubutton\").style.display = \"none\"; } "
"/* Used by the Hide/Show button beside syntax diagrams, to toggle the */ "
"function hideorshow(btn,obj){ var x = document.getElementById(obj); var b = "
"document.getElementById(btn); if( x.style.display!='none' ){ x.style.display "
"= 'none'; b.innerHTML='show'; }else{ x.style.display = ''; "
"b.innerHTML='hide'; } return false; } var antiRobot = 0; function "
"antiRobotGo(){ if( antiRobot!=3 ) return; antiRobot = 7; var j = "
"document.getElementById(\"mtimelink\"); if(j && "
"j.hasAttribute(\"data-href\")) j.href=j.getAttribute(\"data-href\"); } "
"function antiRobotDefense(){ document.body.onmousedown=function(){ antiRobot "
"|= 2; antiRobotGo(); document.body.onmousedown=null; } "
"document.body.onmousemove=function(){ antiRobot |= 2; antiRobotGo(); "
"document.body.onmousemove=null; } setTimeout(function(){ antiRobot |= 1; "
"antiRobotGo(); }, 100)  antiRobotGo(); } antiRobotDefense();"
msgstr ""

#. type: Content of: <html><body><div><div><div>
#: sedout/sessionintro.html:124
msgid ""
"<a onclick=\"toggle_toc()\"> <span class=\"fancy_toc_mark\" "
"id=\"toc_mk\">&#x25ba;</span> Table Of Contents </a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:128
msgid "<a href=\"#introduction\">1. Introduction</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:129
msgid "<a href=\"#typical_use_case\">1.1. Typical Use Case</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:130
msgid ""
"<a href=\"#obtaining_the_session_extension\">1.2. Obtaining the Session "
"Extension</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:131
msgid "<a href=\"#limitations\">1.3. Limitations</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:132
msgid "<a href=\"#concepts\">2. Concepts</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:133
msgid "<a href=\"#changesets_and_patchsets\">2.1. Changesets and Patchsets</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:134
msgid "<a href=\"#conflicts\">2.2. Conflicts</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:135
msgid "<a href=\"#changeset_construction\">2.3. Changeset Construction</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:136
msgid "<a href=\"#using_the_session_extension\">3. Using The Session Extension</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:137
msgid "<a href=\"#capturing_a_changeset\">3.1. Capturing a Changeset</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:138
msgid ""
"<a href=\"#applying_a_changeset_to_a_database\">3.2. Applying a Changeset to "
"a Database</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:139
msgid ""
"<a href=\"#inspecting_the_contents_of_a_changeset\">3.3. Inspecting the "
"Contents of a Changeset</a>"
msgstr ""

#. type: Content of: <html><body><div><div><div><div><div>
#: sedout/sessionintro.html:140
msgid "<a href=\"#extended_functionality\">4. Extended Functionality</a>"
msgstr ""

#. type: Content of: <html><body><div><div><script>
#: sedout/sessionintro.html:144
msgid ""
"function toggle_toc(){ var sub = document.getElementById(\"toc_sub\")  var "
"mk = document.getElementById(\"toc_mk\")  if( sub.style.display!=\"block\" "
"){ sub.style.display = \"block\"; mk.innerHTML = \"&#x25bc;\"; } else { "
"sub.style.display = \"none\"; mk.innerHTML = \"&#x25ba;\"; } }"
msgstr ""

#. type: Content of: <html><body><div><h1>
#: sedout/sessionintro.html:162
msgid "<span>1. </span>Introduction"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:164
msgid ""
"The session extension provide a mechanism for conviently recording changes "
"to some or all of certain tables in an SQLite database, and packaging those "
"changes into a \"changeset\" or \"patchset\" file that can later be used to "
"apply the same set of changes to another database with the same schema and "
"compatible starting data.  A \"changeset\" may also be inverted and used to "
"\"undo\" a session."
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:171
msgid ""
"This document is an introduction to the session extension.  The details of "
"the interface are in the separate <a href=\"session/intro.html\">Session "
"Extension C-language Interface</a> document."
msgstr ""

#. type: Content of: <html><body><div><h2>
#: sedout/sessionintro.html:175
msgid "<span>1.1. </span>Typical Use Case"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:177
msgid ""
"Suppose SQLite is used as the <a href=\"appfileformat.html\">application "
"file format</a> for a particular design application.  Two users, Alice and "
"Bob, each start with a baseline design that is about a gigabyte in size.  "
"They work all day, in parallel, each making their own customizations and "
"tweaks to the design.  At the end of the day, they would like to merge their "
"changes together into a single unified design."
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:184
msgid ""
"The session extension facilitates this by recording all changes to both "
"Alice's and Bob's databases and writing those changes into changeset or "
"patchset files.  At the end of the day, Alice can send her changeset to Bob "
"and Bob can \"apply\" it to his database.  The result (assuming there are no "
"conflicts) is that Bob's database then contains both his changes and Alice's "
"changes.  Likewise, Bob can send a changeset of his work over to Alice and "
"she can apply his changes to her database."
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:192
msgid ""
"In other words, the session extension provides a facility for SQLite "
"database files that is similar to the unix <a "
"href=\"https://en.wikipedia.org/wiki/Patch_(Unix)\">patch</a> utility "
"program, or to the \"merge\" capabilities of version control systems such as "
"<a href=\"https://www.fossil-scm.org/\">Fossil</a>, <a "
"href=\"https://git-scm.com\">Git</a>, or <a "
"href=\"http://www.mercurial-scm.org/\">Mercurial</a>."
msgstr ""

#. type: Content of: <html><body><div><h2>
#: sedout/sessionintro.html:199
msgid "<span>1.2. </span>Obtaining the Session Extension"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:201
msgid ""
"Since <a href=\"releaselog/3_13_0.html\">version 3.13.0</a> (2016-05-18), "
"the session extension has been included in the SQLite <a "
"href=\"amalgamation.html\">amalgamation</a> source distribution. By default, "
"the session extension is disabled. To enable it, build with the following "
"compiler switches:"
msgstr ""

#. type: Content of: <html><body><div><div><pre>
#: sedout/sessionintro.html:206
#, no-wrap
msgid "-DSQLITE_ENABLE_SESSION -DSQLITE_ENABLE_PREUPDATE_HOOK\n"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:209
msgid ""
"Or, if using the autoconf build system, pass the --enable-session option to "
"the configure script."
msgstr ""

#. type: Content of: <html><body><div><h2>
#: sedout/sessionintro.html:212
msgid "<span>1.3. </span>Limitations"
msgstr ""

#. type: Content of: <html><body><div><ul><li>
#: sedout/sessionintro.html:216
msgid ""
"Prior to SQLite version 3.17.0, the session extension only worked with <a "
"href=\"rowidtable.html\">rowid tables</a>, not <a "
"href=\"withoutrowid.html\">WITHOUT ROWID</a> tables. As of 3.17.0, both "
"rowid and WITHOUT ROWID tables are supported. However, extra steps are "
"needed to record primary keys for WITHOUT ROWID table changes."
msgstr ""

#. type: Content of: <html><body><div><ul><li>
#: sedout/sessionintro.html:221
msgid ""
"There is no support for <a href=\"vtab.html\">virtual tables</a>. Changes to "
"virtual tables are not captured."
msgstr ""

#. type: Content of: <html><body><div><ul><li>
#: sedout/sessionintro.html:224
msgid ""
"The session extension only works with tables that have a declared PRIMARY "
"KEY. The PRIMARY KEY of a table may be an INTEGER PRIMARY KEY (rowid alias) "
"or an external PRIMARY KEY."
msgstr ""

#. type: Content of: <html><body><div><ul><li>
#: sedout/sessionintro.html:228
msgid ""
"SQLite allows <a href=\"nulls.html\">NULL values</a> to be stored in PRIMARY "
"KEY columns. However, the session extension ignores all such rows. No "
"changes affecting rows with one or more NULL values in PRIMARY KEY columns "
"are recorded by the sessions module."
msgstr ""

#. type: Content of: <html><body><div><h1>
#: sedout/sessionintro.html:234
msgid "<span>2. </span>Concepts"
msgstr ""

#. type: Content of: <html><body><div>
#: sedout/sessionintro.html:236
msgid "<a name=\"changeset\"></a>"
msgstr ""

#. type: Content of: <html><body><div><h2>
#: sedout/sessionintro.html:238
msgid "<span>2.1. </span>Changesets and Patchsets"
msgstr ""

#. type: Content of: <html><body><div><p>
#: sedout/sessionintro.html:239
msgid ""
"The sessions module revolves around creating and manipulating changesets. A "
"changeset is a blob of data that encodes a series of changes to a "
"database. Each change in a changeset is one of the following:"
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/sessionintro.html:245
msgid ""
"An <b>INSERT</b>. An INSERT change contains a single row to add to a "
"database table. The payload of the INSERT change consists of the values for "
"each field of the new row."
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/sessionintro.html:249
msgid ""
"A <b>DELETE</b>. A DELETE change represents a row, identified by its primary "
"key values, to remove from a database table. The payload of a DELETE change "
"consists of the values for all fields of the deleted row."
msgstr ""

#. type: Content of: <html><body><div><p><ul><li>
#: sedout/sessionintro.html:254
msgid ""
"An <b>UPDATE</b>. An UPDATE change represents the modification of one or "
"more non-PRIMARY KEY fields of a single row within a database table, "
"identified by its PRIMARY KEY fields. The payload for an UPDATE change "
"consists of:"
msgstr ""

#. type: Content of: <html><body><div><p><ul><li><ul><li>
#: sedout/sessionintro.html:259
msgid "The PRIMARY KEY values identifying the modified row,"
msgstr ""

#. type: Content of: <html><body><div><p><ul><li><ul><li>
#: sedout/sessionintro.html:260
msgid "The new values for each modified field of the row, and"
msgstr ""

#. type: Content of: <html><body><div><p><ul><li><ul><li>
#: sedout/sessionintro.html:261
msgid "The original values for each modified field of the row."
msgstr ""

#. type: Content of: <html><body><div><p><ul><li><p>
#: sedout/sessionintro.html:263
msgid ""
"An UPDATE change does not contain any information regarding non-PRIMARY KEY "
"fields that are not modified by the change. It is not possible for an UPDATE "
"change to specify modifications to PRIMARY KEY fields."
msgstr ""

#. type: Content of: <html><body><div><p><p>
#: sedout/sessionintro.html:269
msgid ""
"A single changeset may contain changes that apply to more than one database "
"table. For each table that the changeset includes at least one change for, "
"it also encodes the following data:"
msgstr ""

#. type: Content of: <html><body><div><p><p><ul><li>
#: sedout/sessionintro.html:274
msgid "The name of the database table,"
msgstr ""

#. type: Content of: <html><body><div><p><p><ul><li>
#: sedout/sessionintro.html:275
msgid "The number of columns the table has, and"
msgstr ""

#. type: Content of: <html><body><div><p><p><ul><li>
#: sedout/sessionintro.html:276
msgid "Which of those columns are PRIMARY KEY columns."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/sessionintro.html:279
msgid ""
"Changesets may only be applied to databases that contain tables matching the "
"above three criteria as stored in the changeset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p>
#: sedout/sessionintro.html:282
msgid ""
"A patchset is similar to a changeset. It is slightly more compact than a "
"changeset, but provides more limited conflict detection and resolution "
"options (see the next section for details). The differences between a "
"patchset and a changeset are that:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ul><li>
#: sedout/sessionintro.html:288
msgid ""
"For a <b>DELETE</b> change, the payload consists of the PRIMARY KEY fields "
"only. The original values of other fields are not stored as part of a "
"patchset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><ul><li>
#: sedout/sessionintro.html:292
msgid ""
"For an <b>UPDATE</b> change, the payload consists of the PRIMARY KEY fields "
"and the new values of modified fields only. The original values of modified "
"fields are not stored as part of a patchset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><h2>
#: sedout/sessionintro.html:297
msgid "<span>2.2. </span>Conflicts"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/sessionintro.html:299
msgid ""
"When a changeset or patchset is applied to a database, an attempt is made to "
"insert a new row for each INSERT change, remove a row for each DELETE change "
"and modify a row for each UPDATE change. If the target database is in the "
"same state as the original database that the changeset was recorded on, this "
"is a simple matter. However, if the contents of the target database is not "
"in exactly this state, conflicts can occur when applying the changeset or "
"patchset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p>
#: sedout/sessionintro.html:307
msgid "When processing an <b>INSERT</b> change, the following conflicts can occur:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/sessionintro.html:311
msgid ""
"The target database may already contain a row with the same PRIMARY KEY "
"values as specified by the INSERT change."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><ul><li>
#: sedout/sessionintro.html:314
msgid ""
"Some other database constraint, for example a UNIQUE or CHECK constraint, "
"may be violated when the new row is inserted."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p>
#: sedout/sessionintro.html:318
msgid ""
"When processing a <b>DELETE</b> change, the following conflicts may be "
"detected:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:322
msgid ""
"The target database may contain no row with the specified PRIMARY KEY values "
"to delete."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:325
msgid ""
"The target database may contain a row with the specified PRIMARY KEY values, "
"but the other fields may contain values that do not match those stored as "
"part of the changeset. This type of conflict is not detected when using a "
"patchset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p>
#: sedout/sessionintro.html:331
msgid ""
"When processing an <b>UPDATE</b> change, the following conflicts may be "
"detected:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:335
msgid ""
"The target database may contain no row with the specified PRIMARY KEY values "
"to modify."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:338
msgid ""
"The target database may contain a row with the specified PRIMARY KEY values, "
"but the current values of the fields that will be modified by the change may "
"not match the original values stored within the changeset. This type of "
"conflict is not detected when using a patchset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:343
msgid ""
"Some other database constraint, for example a UNIQUE or CHECK constraint, "
"may be violated when the row is updated."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:347
msgid ""
"Depending on the type of conflict, a sessions application has a variety of "
"configurable options for dealing with conflicts, ranging from omitting the "
"conflicting change, aborting the entire changeset application or applying "
"the change despite the conflict. For details, refer to the documentation for "
"the <a "
"href=\"session/sqlite3changeset_apply.html\">sqlite3changeset_apply()</a> "
"API."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><h2>
#: sedout/sessionintro.html:353
msgid "<span>2.3. </span>Changeset Construction"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:355
msgid ""
"After a session object has been configured, it begins monitoring for changes "
"to its configured tables. However, it does not record an entire change each "
"time a row within the database is modified. Instead, it records just the "
"PRIMARY KEY fields for each inserted row, and just the PRIMARY KEY and all "
"original row values for any updated or deleted rows. If a row is modified "
"more than once by a single session, no new information is recorded."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:362
msgid ""
"The other information required to create a changeset or patchset is read "
"from the database file when <a "
"href=\"session/sqlite3session_changeset.html\">sqlite3session_changeset()</a> "
"or <a "
"href=\"session/sqlite3session_patchset.html\">sqlite3session_patchset()</a> "
"is called. Specifically,"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:367
msgid ""
"For each primary key recorded as a result of an INSERT operation, the "
"sessions module checks if there is a row with a matching primary key still "
"in the table. If so, an INSERT change is added to the changeset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:372
msgid ""
"For each primary key recorded as a result of an UPDATE or DELETE operation, "
"the sessions module also checks for a row with a matching primary key within "
"the table. If one can be found, but one or more of the non-PRIMARY KEY "
"fields does not match the original recorded value, an UPDATE is added to the "
"changeset. Or, if there is no row at all with the specified primary key, a "
"DELETE is added to the changeset. If the row does exist but none of the "
"non-PRIMARY KEY fields have been modified, no change is added to the "
"changeset."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:382
msgid ""
"One implication of the above is that if a change is made and then unmade "
"within a single session (for example if a row is inserted and then deleted "
"again), the sessions module does not report any change at all. Or if a row "
"is updated multiple times within the same session, all updates are coalesced "
"into a single update within any changeset or patchset blob."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><h1>
#: sedout/sessionintro.html:388
msgid "<span>3. </span>Using The Session Extension"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:390
msgid ""
"This section provides examples that demonstrate how to use the sessions "
"extension."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><h2>
#: sedout/sessionintro.html:393
msgid "<span>3.1. </span>Capturing a Changeset"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:395
msgid ""
"The example code below demonstrates the steps involved in capturing a "
"changeset while executing SQL commands. In summary:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:399
msgid ""
"A session object (type sqlite3_session*) is created by making a call to the "
"<a href=\"session/sqlite3session_create.html\">sqlite3session_create()</a> "
"API function.  A single session object monitors changes made to a single "
"database (i.e. \"main\", \"temp\" or an attached database) via a single "
"sqlite3* database handle."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:406
msgid ""
"The session object is configured with a set of tables to monitor changes "
"on.  By default a session object does not monitor changes on any database "
"table. Before it does so it must be configured. There are three ways to "
"configure the set of tables to monitor changes on:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li><ul><li>
#: sedout/sessionintro.html:414
msgid ""
"By explicitly specifying tables using one call to <a "
"href=\"session/sqlite3session_attach.html\">sqlite3session_attach()</a> for "
"each table, or"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li><ul><li>
#: sedout/sessionintro.html:417
msgid ""
"By specifying that all tables in the database should be monitored for "
"changes using a call to <a "
"href=\"session/sqlite3session_attach.html\">sqlite3session_attach()</a> with "
"a NULL argument, or"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li><ul><li>
#: sedout/sessionintro.html:421
msgid ""
"By configuring a callback to be invoked the first time each table is written "
"to that indicates to the session module whether or not changes on the table "
"should be monitored."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:425
msgid ""
"The example code below uses the second of the methods enumerated above - it "
"monitors for changes on all database tables."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:428
msgid ""
"Changes are made to the database by executing SQL statements. The session "
"object records these changes."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:431
msgid ""
"A changeset blob is extracted from the session object using a call to <a "
"href=\"session/sqlite3session_changeset.html\">sqlite3session_changeset()</a> "
"(or, if using patchsets, a call to the <a "
"href=\"session/sqlite3session_patchset.html\">sqlite3session_patchset()</a> "
"function)."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:435
msgid ""
"The session object is deleted using a call to the <a "
"href=\"session/sqlite3session_delete.html\">sqlite3session_delete()</a> API "
"function.  It is not necessary to delete a session object after extracting a "
"changeset or patchset from it. It can be left attached to the database "
"handle and will continue monitoring for changes on the configured tables as "
"before. However, if <a "
"href=\"session/sqlite3session_changeset.html\">sqlite3session_changeset()</a> "
"or <a "
"href=\"session/sqlite3session_patchset.html\">sqlite3session_patchset()</a> "
"is called a second time on a session object, the changeset or patchset will "
"contain <em>all</em> changes that have taken place on the connection since "
"the session was created. In other words, a session object is not reset or "
"zeroed by a call to sqlite3session_changeset() or sqlite3session_patchset()."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/sessionintro.html:451
#, no-wrap
msgid ""
"<i>/*\n"
"** Argument zSql points to a buffer containing an SQL script to execute\n"
"** against the database handle passed as the first argument. As well as\n"
"** executing the SQL script, this function collects a changeset recording\n"
"** all changes made to the \"main\" database file. Assuming no error "
"occurs,\n"
"** output variables (*ppChangeset) and (*pnChangeset) are set to point\n"
"** to a buffer containing the changeset and the size of the changeset in\n"
"** bytes before returning SQLITE_OK. In this case it is the responsibility\n"
"** of the caller to eventually free the changeset blob by passing it to\n"
"** the sqlite3_free function.\n"
"**\n"
"** Or, if an error does occur, return an SQLite error code. The final\n"
"** value of (*pChangeset) and (*pnChangeset) are undefined in this case.\n"
"*/</i>\n"
"int sql_exec_changeset(\n"
"  sqlite3 *db,                  <i>/* Database handle */</i>\n"
"  const char *zSql,             <i>/* SQL script to execute */</i>\n"
"  int *pnChangeset,             <i>/* OUT: Size of changeset blob in bytes "
"*/</i>\n"
"  void **ppChangeset            <i>/* OUT: Pointer to changeset blob "
"*/</i>\n"
"){\n"
"  sqlite3_session *pSession = 0;\n"
"  int rc;\n"
"\n"
"  <i>/* Create a new session object */</i>\n"
"  rc = sqlite3session_create(db, \"main\", &pSession);\n"
"\n"
"  <i>/* Configure the session object to record changes to all tables "
"*/</i>\n"
"  if( rc==SQLITE_OK ) rc = sqlite3session_attach(pSession, NULL);\n"
"\n"
"  <i>/* Execute the SQL script */</i>\n"
"  if( rc==SQLITE_OK ) rc = sqlite3_exec(db, zSql, 0, 0, 0);\n"
"\n"
"  <i>/* Collect the changeset */</i>\n"
"  if( rc==SQLITE_OK ){\n"
"    rc = sqlite3session_changeset(pSession, pnChangeset, ppChangeset);\n"
"  }\n"
"\n"
"  <i>/* Delete the session object */</i>\n"
"  sqlite3session_delete(pSession);\n"
"\n"
"  return rc;\n"
"}\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h2>
#: sedout/sessionintro.html:495
msgid "<span>3.2. </span>Applying a Changeset to a Database"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:497
msgid ""
"Applying a changeset to a database is simpler than capturing a changeset.  "
"Usually, a single call to <a "
"href=\"session/sqlite3changeset_apply.html\">sqlite3changeset_apply()</a>, "
"as depicted in the example code below, suffices."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:501
msgid ""
"In cases where it is complicated, the complications in applying a changeset "
"lie in conflict resolution. Refer to the API documentation linked above for "
"details."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><div><pre>
#: sedout/sessionintro.html:505
#, no-wrap
msgid ""
"<i>/*\n"
"** Conflict handler callback used by apply_changeset(). See below.\n"
"*/</i>\n"
"static int xConflict(void *pCtx, int eConflict, sqlite3_changset_iter "
"*pIter){\n"
"  int ret = (int)pCtx;\n"
"  return ret;\n"
"}\n"
"\n"
"<i>/*\n"
"** Apply the changeset contained in blob pChangeset, size nChangeset "
"bytes,\n"
"** to the main database of the database handle passed as the first "
"argument.\n"
"** Return SQLITE_OK if successful, or an SQLite error code if an error\n"
"** occurs.\n"
"**\n"
"** If parameter bIgnoreConflicts is true, then any conflicting changes\n"
"** within the changeset are simply ignored. Or, if bIgnoreConflicts is\n"
"** false, then this call fails with an SQLTIE_ABORT error if a changeset\n"
"** conflict is encountered.\n"
"*/</i>\n"
"int apply_changeset(\n"
"  sqlite3 *db,                  <i>/* Database handle */</i>\n"
"  int bIgnoreConflicts,         <i>/* True to ignore conflicting changes "
"*/</i>\n"
"  int nChangeset,               <i>/* Size of changeset in bytes */</i>\n"
"  void *pChangeset              <i>/* Pointer to changeset blob */</i>\n"
"){\n"
"  return sqlite3changeset_apply(\n"
"      db,\n"
"      nChangeset, pChangeset,\n"
"      0, xConflict,\n"
"      (void*)bIgnoreConflicts\n"
"  );\n"
"}\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><h2>
#: sedout/sessionintro.html:539
msgid "<span>3.3. </span>Inspecting the Contents of a Changeset"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:541
msgid ""
"The example code below demonstrates the techniques used to iterate through "
"and extract the data related to all changes in a changeset. To summarize:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:546
msgid ""
"The <a "
"href=\"session/sqlite3changeset_start.html\">sqlite3changeset_start()</a> "
"API is called to create and initialize an iterator to iterate through the "
"contents of a changeset. Initially, the iterator points to no element at "
"all."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:550
msgid ""
"The first call to <a "
"href=\"session/sqlite3changeset_next.html\">sqlite3changeset_next()</a> on "
"the iterator moves it to point to the first change in the changeset (or to "
"EOF, if the changeset is completely empty). sqlite3changeset_next() returns "
"SQLITE_ROW if it moves the iterator to point to a valid entry, SQLITE_DONE "
"if it moves the iterator to EOF, or an SQLite error code if an error occurs."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:557
msgid ""
"If the iterator points to a valid entry, the <a "
"href=\"session/sqlite3changeset_op.html\">sqlite3changeset_op()</a> API may "
"be used to determine the type of change (INSERT, UPDATE or DELETE) that the "
"iterator points to. Additionally, the same API can be used to obtain the "
"name of the table the change applies to and its expected number of columns "
"and primary key columns."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:563
msgid ""
"If the iterator points to a valid INSERT or UPDATE entry, the <a "
"href=\"session/sqlite3changeset_new.html\">sqlite3changeset_new()</a> API "
"may be used to obtain the new.* values within the change payload."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:567
msgid ""
"If the iterator points to a valid DELETE or UPDATE entry, the <a "
"href=\"session/sqlite3changeset_old.html\">sqlite3changeset_old()</a> API "
"may be used to obtain the old.* values within the change payload."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><ol><li>
#: sedout/sessionintro.html:571
msgid ""
"An iterator is deleted using a call to the <a "
"href=\"session/sqlite3changeset_finalize.html\">sqlite3changeset_finalize()</a> "
"API. If an error occured while iterating, an SQLite error code is returned "
"(even if the same error code has already been returned by "
"sqlite3changeset_next()). Or, if no error has occurred, SQLITE_OK is "
"returned."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><div><pre>
#: sedout/sessionintro.html:578
#, no-wrap
msgid ""
"<i>/*\n"
"** Print the contents of the changeset to stdout.\n"
"*/</i>\n"
"static int print_changeset(void *pChangeset, int nChangeset){\n"
"  int rc;\n"
"  sqlite3_changeset_iter *pIter = 0;\n"
"\n"
"  <i>/* Create an iterator to iterate through the changeset */</i>\n"
"  rc = sqlite3changeset_start(&pIter, nChangeset, pChangeset);\n"
"  if( rc!=SQLITE_OK ) return rc;\n"
"\n"
"  <i>/* This loop runs once for each change in the changeset */</i>\n"
"  while( SQLITE_ROW==sqlite3changeset_next(pIter) ){\n"
"    const char *zTab;           <i>/* Table change applies to */</i>\n"
"    int nCol;                   <i>/* Number of columns in table zTab "
"*/</i>\n"
"    int op;                     <i>/* SQLITE_INSERT, UPDATE or DELETE "
"*/</i>\n"
"    sqlite3_value *pVal;\n"
"\n"
"    <i>/* Print the type of operation and the table it is on */</i>\n"
"    rc = sqlite3changeset_op(pIter, &zTab, &nCol, &op, 0);\n"
"    if( rc!=SQLITE_OK ) goto exit_print_changeset;\n"
"    printf(\"%s on table %s\\n\",\n"
"      op==SQLITE_INSERT?\"INSERT\" : op==SQLITE_UPDATE?\"UPDATE\" : "
"\"DELETE\",\n"
"      zTab\n"
"    );\n"
"\n"
"    <i>/* If this is an UPDATE or DELETE, print the old.* values */</i>\n"
"    if( op==SQLITE_UPDATE || op==SQLITE_DELETE ){\n"
"      printf(\"Old values:\");\n"
"      for(i=0; i&lt;nCol; i++){\n"
"        rc = sqlite3changeset_old(pIter, i, &pVal);\n"
"        if( rc!=SQLITE_OK ) goto exit_print_changeset;\n"
"        printf(\" %s\", pVal ? sqlite3_value_text(pVal) : \"-\");\n"
"      }\n"
"      printf(\"\\n\");\n"
"    }\n"
"\n"
"    <i>/* If this is an UPDATE or INSERT, print the new.* values */</i>\n"
"    if( op==SQLITE_UPDATE || op==SQLITE_INSERT ){\n"
"      printf(\"New values:\");\n"
"      for(i=0; i&lt;nCol; i++){\n"
"        rc = sqlite3changeset_new(pIter, i, &pVal);\n"
"        if( rc!=SQLITE_OK ) goto exit_print_changeset;\n"
"        printf(\" %s\", pVal ? sqlite3_value_text(pVal) : \"-\");\n"
"      }\n"
"      printf(\"\\n\");\n"
"    }\n"
"  }\n"
"\n"
"  <i>/* Clean up the changeset and return an error code (or SQLITE_OK) "
"*/</i>\n"
" exit_print_changeset:\n"
"  rc2 = sqlite3changeset_finalize(pIter);\n"
"  if( rc==SQLITE_OK ) rc = rc2;\n"
"  return rc;\n"
"}\n"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><h1>
#: sedout/sessionintro.html:635
msgid "<span>4. </span>Extended Functionality"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:637
msgid ""
"Most applications will only use the session module functionality described "
"in the previous section. However, the following additional functionality is "
"available for the use and manipulation of changeset and patchset blobs:"
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:642
msgid ""
"Two or more changeset/patchsets may be combined using the <a "
"href=\"session/sqlite3changeset_concat.html\">sqlite3changeset_concat()</a> "
"or <a href=\"session/changegroup.html\">sqlite3_changegroup</a> interfaces."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p><ul><li>
#: sedout/sessionintro.html:645
msgid ""
"A changeset may be \"inverted\" using the <a "
"href=\"session/sqlite3changeset_invert.html\">sqlite3changeset_invert()</a> "
"API function. An inverted changeset undoes the changes made by the "
"original. If changeset C<sup>+</sup> is the inverse of changeset C, then "
"applying C and then C<sup>+</sup> to a database should leave the database "
"unchanged."
msgstr ""

#. type: Content of: <html><body><div><p><p><p><p><p><p><p><p><p><p><p>
#: sedout/sessionintro.html:650
msgid ""
"<small><i>This page last modified on <a "
"href=\"https://sqlite.org/docsrc/honeypot\" id=\"mtimelink\" "
"data-href=\"https://sqlite.org/docsrc/finfo/pages/sessionintro.in?m=682990e565\">2023-01-07 "
"01:13:01</a> UTC </i></small>"
msgstr ""
